(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/YPm":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n("8Y7J"),c=n("d26D"),a=n("s7LF"),i=n("SVse"),l=n("uEz7"),b=function(t,e,n,o){return new(n||(n=Promise))(function(c,a){function i(t){try{b(o.next(t))}catch(e){a(e)}}function l(t){try{b(o.throw(t))}catch(e){a(e)}}function b(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,l)}b((o=o.apply(t,e||[])).next())})},r=function(t,e){var n,o,c,a,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(c=2&a[0]?o.return:a[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,a[1])).done)return c;switch(o=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((c=(c=i.trys).length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){i.label=a[1];break}if(6===a[0]&&i.label<c[1]){i.label=c[1],c=a;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(a);break}c[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(l){a=[6,l],o=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function s(t,e){if(1&t){var n=o.Rb();o.Qb(0,"a",7),o.bc("click",function(){o.wc(n);var t=e.$implicit;return o.dc().onSelectHotel(t.id)}),o.Mb(1,"i",8),o.Fc(2),o.Pb()}if(2&t){var c=e.$implicit;o.zb(2),o.Hc(" ",c.name," ")}}function u(t,e){if(1&t){var n=o.Rb();o.Qb(0,"pagination",9),o.bc("getPage",function(t){return o.wc(n),o.dc().getAdminHotelPage(t)}),o.Pb()}if(2&t){var c=o.dc();o.lc("page",c.hotelPage)("short",c.short)}}var d=function(){function t(t){this.hotelService=t,this.hotel=new o.n,this.short=!0}return t.prototype.ngOnInit=function(){this.getAdminHotelPage()},t.prototype.getAdminHotelPage=function(t){return void 0===t&&(t=0),b(this,void 0,void 0,function(){var e,n=this;return r(this,function(o){switch(o.label){case 0:return e=localStorage.getItem("hotelId"),[4,this.hotelService.getAdminHotelPage(t,this.hotelName).subscribe(function(t){n.hotelPage=t,e&&n.getAdminHotel(+e)})];case 1:return o.sent(),[2]}})})},t.prototype.getAdminHotel=function(t){return b(this,void 0,void 0,function(){var e,n=this;return r(this,function(o){switch(o.label){case 0:return null!=(e=this.hotelPage.content.find(function(e){return e.id===t}))?[3,2]:[4,this.hotelService.getAdminHotel(t).subscribe(function(t){n.hotel.emit(t)})];case 1:return o.sent(),[3,3];case 2:console.log("amdin hotel "+e.name),this.hotel.emit(e),o.label=3;case 3:return[2]}})})},t.prototype.onSelectHotel=function(t){localStorage.setItem("hotelId",t.toString());var e=this.hotelPage.content.find(function(e){return e.id===t});this.hotel.emit(e)},t.\u0275fac=function(e){return new(e||t)(o.Lb(c.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["admin-hotel-list"]],outputs:{hotel:"hotel"},decls:11,vars:3,consts:[[1,"list-group"],[1,"list-group-item"],[1,"mx-3","my-1",3,"ngSubmit"],[1,"form-group","mb-0"],["type","text","id","hotelName","name","hotelName","placeholder","Hotel name",1,"form-control",3,"ngModel","ngModelChange"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[3,"page","short","getPage",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"fa","fa-building"],[3,"page","short","getPage"]],template:function(t,e){1&t&&(o.Qb(0,"ul",0),o.Qb(1,"li",1),o.Qb(2,"h5"),o.Fc(3,"Hotel List"),o.Pb(),o.Qb(4,"small"),o.Fc(5,"Choose a hotel from below list"),o.Pb(),o.Pb(),o.Qb(6,"form",2),o.bc("ngSubmit",function(){return e.getAdminHotelPage()}),o.Qb(7,"div",3),o.Qb(8,"input",4),o.bc("ngModelChange",function(t){return e.hotelName=t}),o.Pb(),o.Pb(),o.Pb(),o.Dc(9,s,3,1,"a",5),o.Dc(10,u,1,2,"pagination",6),o.Pb()),2&t&&(o.zb(8),o.lc("ngModel",e.hotelName),o.zb(1),o.lc("ngForOf",null==e.hotelPage?null:e.hotelPage.content),o.zb(1),o.lc("ngIf",null!=e.hotelPage))},directives:[a.x,a.n,a.o,a.b,a.m,a.p,i.p,i.q,l.a],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;padding:.25rem 1.25rem}"]}),t}()},"3whx":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("KZX/"),c=n("8Y7J"),a=function(){function t(){}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[o.a],o.a]}),t}()},lWB2:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n("8Y7J"),c=n("Sa+r"),a=n("SVse"),i=n("s7LF");function l(t,e){if(1&t){var n=o.Rb();o.Qb(0,"button",44),o.bc("click",function(){o.wc(n);var t=o.dc(2);return t.onCollectDue(t.manualBooking.id)}),o.Fc(1," Collect Due"),o.Pb()}}function b(t,e){if(1&t&&(o.Qb(0,"option",53),o.Fc(1),o.Pb()),2&t){var n=e.$implicit;o.lc("value",n.key),o.zb(1),o.Hc(" ",n.value," ")}}function r(t,e){if(1&t){var n=o.Rb();o.Qb(0,"div",45),o.Qb(1,"form",46),o.bc("ngSubmit",function(){return o.wc(n),o.dc(2).onSubmit()}),o.Qb(2,"div",47),o.Qb(3,"label",37),o.Fc(4,"Payment Method"),o.Pb(),o.Qb(5,"select",48),o.bc("ngModelChange",function(t){return o.wc(n),o.dc(2).method=t}),o.Dc(6,b,2,2,"option",49),o.ec(7,"keyvalue"),o.Pb(),o.Pb(),o.Qb(8,"div",47),o.Qb(9,"label",50),o.Fc(10,"Amount"),o.Pb(),o.Qb(11,"input",51),o.bc("ngModelChange",function(t){return o.wc(n),o.dc(2).amount=t}),o.Pb(),o.Pb(),o.Qb(12,"button",52),o.bc("click",function(){return o.wc(n),o.dc(2).onSubmit()}),o.Fc(13,"Submit"),o.Pb(),o.Pb(),o.Pb()}if(2&t){var c=o.dc(2);o.zb(5),o.lc("ngModel",c.method),o.zb(1),o.lc("ngForOf",o.fc(7,3,c.paymentMethods)),o.zb(5),o.lc("ngModel",c.amount)}}function s(t,e){if(1&t){var n=o.Rb();o.Ob(0),o.Qb(1,"div",2),o.Qb(2,"div",3),o.Fc(3," Manual Booking Details "),o.Pb(),o.Pb(),o.Qb(4,"div",2),o.Qb(5,"div",4),o.Qb(6,"strong"),o.Fc(7),o.ec(8,"date"),o.Pb(),o.Pb(),o.Pb(),o.Qb(9,"div",2),o.Qb(10,"div",5),o.Qb(11,"label",6),o.Fc(12,"Guest Name"),o.Pb(),o.Qb(13,"label",7),o.Fc(14),o.Pb(),o.Pb(),o.Qb(15,"div",5),o.Qb(16,"label",8),o.Fc(17,"Guest Phone"),o.Pb(),o.Qb(18,"label",9),o.Fc(19),o.Pb(),o.Pb(),o.Qb(20,"div",5),o.Qb(21,"label",10),o.Fc(22,"Guest Email"),o.Pb(),o.Qb(23,"label",11),o.Fc(24),o.Pb(),o.Pb(),o.Pb(),o.Qb(25,"div",2),o.Qb(26,"div",5),o.Qb(27,"label",12),o.Fc(28,"Service Type"),o.Pb(),o.Qb(29,"label",13),o.Fc(30),o.Pb(),o.Pb(),o.Qb(31,"div",5),o.Qb(32,"label",14),o.Fc(33,"Service Name"),o.Pb(),o.Qb(34,"label",15),o.Fc(35),o.Pb(),o.Pb(),o.Qb(36,"div",5),o.Qb(37,"label",16),o.Fc(38,"Service category"),o.Pb(),o.Qb(39,"label",17),o.Fc(40),o.Pb(),o.Pb(),o.Pb(),o.Qb(41,"div",2),o.Qb(42,"div",18),o.Qb(43,"label",19),o.Fc(44,"Start/Check in Date"),o.Pb(),o.Qb(45,"label",20),o.Fc(46),o.Pb(),o.Pb(),o.Qb(47,"div",18),o.Qb(48,"label",21),o.Fc(49,"End Date/Check out Date"),o.Pb(),o.Qb(50,"label",22),o.Fc(51),o.Pb(),o.Pb(),o.Qb(52,"div",18),o.Qb(53,"label",23),o.Fc(54,"Place / Start From"),o.Pb(),o.Qb(55,"label",24),o.Fc(56),o.Pb(),o.Pb(),o.Qb(57,"div",18),o.Qb(58,"label",21),o.Fc(59,"End Date/Check out Date"),o.Pb(),o.Qb(60,"label",25),o.Fc(61),o.Pb(),o.Pb(),o.Pb(),o.Qb(62,"div",2),o.Qb(63,"div",18),o.Qb(64,"label",26),o.Fc(65,"Booking id / Reference"),o.Pb(),o.Qb(66,"label",27),o.Fc(67),o.Pb(),o.Pb(),o.Qb(68,"div",18),o.Qb(69,"label",28),o.Fc(70,"Quantity"),o.Pb(),o.Qb(71,"label",29),o.Fc(72),o.Pb(),o.Pb(),o.Qb(73,"div",18),o.Qb(74,"label",30),o.Fc(75,"Rate"),o.Pb(),o.Qb(76,"label",31),o.Fc(77),o.Pb(),o.Pb(),o.Qb(78,"div",32),o.Qb(79,"label",33),o.Fc(80,"Price"),o.Pb(),o.Qb(81,"label",34),o.Fc(82),o.Pb(),o.Pb(),o.Pb(),o.Qb(83,"div",2),o.Mb(84,"div",35),o.Qb(85,"div",32),o.Fc(86,"Discount"),o.Pb(),o.Qb(87,"div",32),o.Qb(88,"label",25),o.Fc(89),o.Pb(),o.Pb(),o.Pb(),o.Qb(90,"div",2),o.Qb(91,"div",32),o.Fc(92,"Vat "),o.Pb(),o.Qb(93,"div",32),o.Qb(94,"label",25),o.Fc(95),o.Pb(),o.Pb(),o.Qb(96,"div",32),o.Fc(97,"Sub total"),o.Pb(),o.Qb(98,"div",32),o.Qb(99,"label",25),o.Fc(100),o.Pb(),o.Pb(),o.Pb(),o.Qb(101,"div",2),o.Mb(102,"div",35),o.Qb(103,"div",32),o.Fc(104,"Total Payable"),o.Pb(),o.Qb(105,"div",32),o.Qb(106,"label",25),o.Fc(107),o.Pb(),o.Pb(),o.Pb(),o.Qb(108,"div",36),o.Qb(109,"div",18),o.Qb(110,"label",37),o.Fc(111,"Payment Method"),o.Pb(),o.Qb(112,"label",38),o.Fc(113),o.Pb(),o.Pb(),o.Qb(114,"div",18),o.Qb(115,"label",26),o.Fc(116,"Reference"),o.Pb(),o.Qb(117,"label",39),o.Fc(118),o.Pb(),o.Pb(),o.Qb(119,"div",32),o.Fc(120,"Advance"),o.Pb(),o.Qb(121,"div",32),o.Qb(122,"label",25),o.Fc(123),o.Pb(),o.Pb(),o.Pb(),o.Qb(124,"div",2),o.Mb(125,"div",35),o.Qb(126,"div",32),o.Fc(127,"Due"),o.Pb(),o.Qb(128,"div",32),o.Qb(129,"label",25),o.Fc(130),o.Pb(),o.Pb(),o.Pb(),o.Qb(131,"div",40),o.Qb(132,"button",41),o.bc("click",function(){return o.wc(n),o.dc().onClear()}),o.Fc(133,"Close"),o.Pb(),o.Dc(134,l,2,0,"button",42),o.Pb(),o.Dc(135,r,14,5,"div",43),o.Nb()}if(2&t){var c=o.dc();o.zb(7),o.Hc(" Date : ",o.fc(8,25,c.manualBooking.created),""),o.zb(7),o.Hc(" ",c.manualBooking.guestName," "),o.zb(5),o.Hc(" ",c.manualBooking.guestPhone," "),o.zb(5),o.Hc(" ",c.manualBooking.guestEmail," "),o.zb(6),o.Hc(" ",c.manualBooking.bookingType," "),o.zb(5),o.Hc(" ",c.manualBooking.name," "),o.zb(5),o.Hc(" ",c.manualBooking.category," "),o.zb(6),o.Hc(" ",c.manualBooking.startDate," "),o.zb(5),o.Hc(" ",c.manualBooking.endDate," "),o.zb(5),o.Hc(" ",c.manualBooking.startFrom," "),o.zb(5),o.Hc(" ",c.manualBooking.destination," "),o.zb(6),o.Hc(" ",c.manualBooking.reference," "),o.zb(5),o.Hc(" ",c.manualBooking.quantity," "),o.zb(5),o.Hc(" ",c.manualBooking.rate," "),o.zb(5),o.Hc(" ",c.manualBooking.price," "),o.zb(7),o.Hc(" ",c.manualBooking.discount," "),o.zb(6),o.Hc(" ",c.manualBooking.vatPercent," "),o.zb(5),o.Hc(" ",c.manualBooking.price-c.manualBooking.discount," "),o.zb(7),o.Hc(" ",c.manualBooking.payable," "),o.zb(6),o.Hc(" ",c.manualBooking.paymentMethod," "),o.zb(5),o.Hc(" ",c.manualBooking.paymentRef," "),o.zb(5),o.Hc(" ",c.manualBooking.advance," "),o.zb(7),o.Hc(" ",c.manualBooking.due," "),o.zb(4),o.lc("ngIf",c.accounts&&c.manualBooking.due>0&&!c.manualBooking.automatic),o.zb(1),o.lc("ngIf",c.showDueForm)}}function u(t,e){1&t&&(o.Qb(0,"div",54),o.Mb(1,"i",55),o.Fc(2," No booking selected yet. Please select a Manual booking from list tab. "),o.Pb())}var d=function(){function t(){this.clear=new o.n,this.due=new o.n,this.amount=0,this.method="CASH",this.showDueForm=!1,this.paymentMethods=c.b}return t.prototype.ngOnInit=function(){},t.prototype.onClear=function(){this.clear.emit()},t.prototype.onCollectDue=function(t){console.log("onCollectDue",t),this.showDueForm=!0},t.prototype.onSubmit=function(){console.log("onSubmit",this.amount),this.showDueForm=!1;var t={amount:this.amount,method:this.method};console.log(t),this.due.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["manual-booking-details"]],inputs:{manualBooking:"manualBooking",accounts:"accounts"},outputs:{clear:"clear",due:"due"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noManualBooking",""],[1,"row"],[1,"col-12","form-head"],[1,"col","text-right"],[1,"col-sm-4"],["for","guestName",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","guestName",1,"form-control","form-control-sm"],["for","guestPhone",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","guestPhone",1,"form-control","form-control-sm"],["for","guestEmail",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","guestEmail",1,"form-control","form-control-sm"],["for","bookingType",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","bookingType",1,"form-control","form-control-sm"],["for","name",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","name",1,"form-control","form-control-sm"],["for","category",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","category",1,"form-control","form-control-sm"],[1,"col-sm-3"],["for","startDate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","startDate",1,"form-control","form-control-sm"],["for","endDate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","endDate",1,"form-control","form-control-sm"],["for","startFrom",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","startFrom",1,"form-control","form-control-sm"],[1,"form-control","form-control-sm"],["for","reference",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","reference",1,"form-control","form-control-sm"],["for","quantity",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","quantity",1,"form-control","form-control-sm"],["for","rate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","rate",1,"form-control","form-control-sm"],[1,"col-sm-3","text-right"],["for","price",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","price",1,"form-control","form-control-sm"],[1,"col-sm-6"],[1,"row","mb-2"],["for","paymentMethod",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","paymentMethod",1,"form-control","form-control-sm"],["id","paymentRef",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight","d-print-none"],[1,"btn","btn-sm","btn-outline-danger","mx-1",3,"click"],["class","btn btn-sm btn-outline-success mx-1",3,"click",4,"ngIf"],["class","d-flex justify-content-center  d-print-none",4,"ngIf"],[1,"btn","btn-sm","btn-outline-success","mx-1",3,"click"],[1,"d-flex","justify-content-center","d-print-none"],[3,"ngSubmit"],[1,"form-group"],["id","paymentMethod","name","method",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","amount"],["type","number","id","amount","name","amount","aria-describedby","amount",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"text-center"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t&&(o.Dc(0,s,136,27,"ng-container",0),o.Dc(1,u,3,0,"ng-template",null,1,o.Ec)),2&t){var n=o.vc(2);o.lc("ngIf",null!=e.manualBooking)("ngIfElse",n)}},directives:[a.q,i.x,i.n,i.o,i.u,i.m,i.p,a.p,i.r,i.b,i.q,i.w],pipes:[a.f,a.k],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}.form-head[_ngcontent-%COMP%]{width:inherit;font-size:20px!important;line-height:22px;padding:5px;color:#fff;background-color:#1b2445}"]}),t}()},s1VS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n("W2O4"),c=n("jgEc"),a=n("8Y7J"),i=function(){function t(t,e){this.dataSource=t,this.http=e,this.adminUrl="api/v1/admin/manual"}return t.prototype.create=function(t){return this.dataSource.sendRequest(o.d.Post,this.adminUrl,t,!0,null)},t.prototype.all=function(t){return void 0===t&&(t=null),this.dataSource.sendRequest(o.d.Get,this.adminUrl,null,!0,null===t?"":"page="+t+"&")},t.prototype.one=function(t){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/"+t,null,!0,null)},t.prototype.getCreateBy=function(t){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/createdBy/"+t,null,!0,null)},t.prototype.getForDay=function(t){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/forDay",null,!0,"date="+t+"&")},t.prototype.getForDayRangeAndCreateBy=function(t,e,n){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/forDayRange/"+t,null,!0,"startDate="+e+"&endDate="+n+"&")},t.prototype.getForDayAndCreateBy=function(t,e){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/forDay/"+t,null,!0,"date="+e+"&")},t.prototype.collectDue=function(t,e,n){return this.dataSource.sendRequest(o.d.Patch,this.adminUrl+"/collectDue/"+t,null,!0,"amount="+e+"&method="+n+"&")},t.prototype.getDueListForCounterByDateRange=function(t,e,n){return this.dataSource.sendRequest(o.d.Get,this.adminUrl+"/dueListForCounter/"+t,null,!0,"startDate="+e+"&endDate="+n+"&")},t.\u0275fac=function(e){return new(e||t)(a.Yb(c.a),a.Yb(o.a))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},sMOk:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var o=n("8Y7J"),c=n("SVse"),a=n("s7LF");function i(t,e){1&t&&(o.Qb(0,"div",22),o.Qb(1,"div",23),o.Fc(2,"Type"),o.Pb(),o.Pb())}function l(t,e){if(1&t&&(o.Qb(0,"option",27),o.Fc(1),o.Pb()),2&t){var n=e.$implicit;o.lc("value",n),o.zb(1),o.Hc(" ",n," ")}}function b(t,e){if(1&t){var n=o.Rb();o.Qb(0,"select",24),o.bc("change",function(t){return o.wc(n),o.dc(3).onFilterType(t.target.value)}),o.Qb(1,"option",25),o.Fc(2," All "),o.Pb(),o.Dc(3,l,2,2,"option",26),o.Pb()}if(2&t){var c=o.dc(3);o.zb(3),o.lc("ngForOf",c.typeList)}}function r(t,e){1&t&&(o.Qb(0,"div",22),o.Qb(1,"div",23),o.Fc(2,"Service Name"),o.Pb(),o.Pb())}function s(t,e){if(1&t&&(o.Qb(0,"option",27),o.Fc(1),o.Pb()),2&t){var n=e.$implicit;o.lc("value",n),o.zb(1),o.Hc(" ",n," ")}}function u(t,e){if(1&t){var n=o.Rb();o.Qb(0,"select",24),o.bc("change",function(t){return o.wc(n),o.dc(3).onFilterName(t.target.value)}),o.Qb(1,"option",25),o.Fc(2," All "),o.Pb(),o.Dc(3,s,2,2,"option",26),o.Pb()}if(2&t){var c=o.dc(3);o.zb(3),o.lc("ngForOf",c.name)}}function d(t,e){if(1&t&&(o.Qb(0,"div",18),o.Qb(1,"div",19),o.Qb(2,"strong"),o.Fc(3," Filter by \xa0"),o.Pb(),o.Dc(4,i,3,0,"div",20),o.Dc(5,b,4,1,"select",21),o.Dc(6,r,3,0,"div",20),o.Dc(7,u,4,1,"select",21),o.Pb(),o.Pb()),2&t){var n=o.dc(2);o.zb(4),o.lc("ngIf",n.typeList.length>0),o.zb(1),o.lc("ngIf",n.typeList.length>0),o.zb(1),o.lc("ngIf",n.name.length>0),o.zb(1),o.lc("ngIf",n.name.length>0)}}function m(t,e){if(1&t){var n=o.Rb();o.Qb(0,"tr"),o.Qb(1,"th",28),o.Fc(2),o.Pb(),o.Qb(3,"td"),o.Fc(4),o.Pb(),o.Qb(5,"td"),o.Fc(6),o.Pb(),o.Qb(7,"td"),o.Fc(8),o.Pb(),o.Qb(9,"td",10),o.Fc(10),o.Pb(),o.Qb(11,"td",10),o.Fc(12),o.Pb(),o.Qb(13,"td",10),o.Fc(14),o.Pb(),o.Qb(15,"td",10),o.Fc(16),o.Pb(),o.Qb(17,"td",10),o.Fc(18),o.Pb(),o.Qb(19,"td",29),o.Qb(20,"a",30),o.bc("click",function(){o.wc(n);var t=e.$implicit;return o.dc(2).onDetails(t.id)}),o.Fc(21,"Details"),o.Pb(),o.Pb(),o.Pb()}if(2&t){var c=e.$implicit;o.zb(2),o.Gc(c.id),o.zb(2),o.Hc(" ",c.bookingType," "),o.zb(2),o.Ic(" ",c.name," [",c.category,"] "),o.zb(2),o.Hc(" ",c.startDate," "),o.zb(2),o.Hc(" ",c.payable," "),o.zb(2),o.Hc(" ",c.advance," "),o.zb(2),o.Hc(" ",c.due," "),o.zb(2),o.Gc(c.deposited?"Deposited":"On Hand"),o.zb(2),o.Hc(" ",c.paymentMethod," ")}}function f(t,e){if(1&t){var n=o.Rb();o.Qb(0,"button",34),o.bc("click",function(){return o.wc(n),o.dc(3).onReceive()}),o.Fc(1),o.Pb()}if(2&t){var c=o.dc(3);o.zb(1),o.Hc(" Receive ",c.manual?"manual":"automatic"," payments")}}function g(t,e){1&t&&(o.Qb(0,"h5"),o.Qb(1,"span",35),o.Fc(2,"Recieved"),o.Pb(),o.Pb())}function h(t,e){if(1&t&&(o.Qb(0,"div",31),o.Dc(1,f,2,1,"button",32),o.Dc(2,g,3,0,"h5",33),o.Pb()),2&t){var n=o.dc(2);o.zb(1),o.lc("ngIf",n.total.advance-n.total.deposited>0),o.zb(1),o.lc("ngIf",n.total.advance-n.total.deposited==0)}}function p(t,e){if(1&t&&(o.Qb(0,"div"),o.Qb(1,"table",2),o.Qb(2,"thead"),o.Qb(3,"tr"),o.Qb(4,"td",3),o.Qb(5,"div",4),o.Qb(6,"div",5),o.Qb(7,"h5",6),o.Fc(8),o.Pb(),o.Pb(),o.Dc(9,d,8,4,"div",7),o.Pb(),o.Pb(),o.Pb(),o.Qb(10,"tr"),o.Qb(11,"th",8),o.Fc(12,"#"),o.Pb(),o.Qb(13,"th",8),o.Fc(14,"Type"),o.Pb(),o.Qb(15,"th",8),o.Fc(16,"Service"),o.Pb(),o.Qb(17,"th",8),o.Fc(18,"StartDate"),o.Pb(),o.Qb(19,"th",9),o.Fc(20,"Payable"),o.Pb(),o.Qb(21,"th",9),o.Fc(22,"Advance"),o.Pb(),o.Qb(23,"th",9),o.Fc(24,"Due"),o.Pb(),o.Qb(25,"th",10),o.Fc(26,"Status"),o.Pb(),o.Qb(27,"th",10),o.Fc(28,"Method"),o.Pb(),o.Qb(29,"th",11),o.Fc(30,"Action"),o.Pb(),o.Pb(),o.Pb(),o.Qb(31,"tbody"),o.Dc(32,m,22,10,"tr",12),o.Pb(),o.Qb(33,"tfoot"),o.Qb(34,"tr",13),o.Mb(35,"td",14),o.Qb(36,"th",10),o.Fc(37,"Total"),o.Pb(),o.Qb(38,"th",10),o.Fc(39),o.Pb(),o.Qb(40,"th",10),o.Fc(41),o.Pb(),o.Qb(42,"th",10),o.Fc(43),o.Pb(),o.Mb(44,"td",14),o.Pb(),o.Pb(),o.Pb(),o.Qb(45,"table",15),o.Qb(46,"thead"),o.Qb(47,"tr"),o.Qb(48,"td",16),o.Fc(49," Payment summary "),o.Pb(),o.Pb(),o.Pb(),o.Qb(50,"tbody",10),o.Qb(51,"tr"),o.Qb(52,"th"),o.Fc(53,"Method"),o.Pb(),o.Qb(54,"td"),o.Fc(55,"Cash"),o.Pb(),o.Qb(56,"td"),o.Fc(57,"BKash"),o.Pb(),o.Qb(58,"td"),o.Fc(59,"Roket"),o.Pb(),o.Qb(60,"td"),o.Fc(61,"Nagad"),o.Pb(),o.Qb(62,"td"),o.Fc(63,"SSL"),o.Pb(),o.Qb(64,"td"),o.Fc(65,"Bank Transfer"),o.Pb(),o.Qb(66,"td"),o.Fc(67,"Other"),o.Pb(),o.Qb(68,"th"),o.Fc(69,"Deposited"),o.Pb(),o.Qb(70,"th"),o.Fc(71,"Due"),o.Pb(),o.Pb(),o.Qb(72,"tr"),o.Qb(73,"th"),o.Fc(74,"Amount"),o.Pb(),o.Qb(75,"td"),o.Fc(76),o.Pb(),o.Qb(77,"td"),o.Fc(78),o.Pb(),o.Qb(79,"td"),o.Fc(80),o.Pb(),o.Qb(81,"td"),o.Fc(82),o.Pb(),o.Qb(83,"td"),o.Fc(84),o.Pb(),o.Qb(85,"td"),o.Fc(86),o.Pb(),o.Qb(87,"td"),o.Fc(88),o.Pb(),o.Qb(89,"th"),o.Fc(90),o.Pb(),o.Qb(91,"th"),o.Fc(92),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Dc(93,h,3,2,"div",17),o.Pb()),2&t){var n=o.dc();o.zb(8),o.Hc("",n.manual?"Manual":"Automatic"," Sells "),o.zb(1),o.lc("ngIf",(null==n.typeList?null:n.typeList.length)>0),o.zb(23),o.lc("ngForOf",n.bookingList),o.zb(7),o.Gc(n.total.payable),o.zb(2),o.Gc(n.total.advance),o.zb(2),o.Gc(n.total.due),o.zb(33),o.Gc(n.total.cash),o.zb(2),o.Gc(n.total.bkash),o.zb(2),o.Gc(n.total.roket),o.zb(2),o.Gc(n.total.nagad),o.zb(2),o.Gc(n.total.ssl),o.zb(2),o.Gc(n.total.bank_transfer),o.zb(2),o.Gc(n.total.other),o.zb(2),o.Gc(n.total.deposited),o.zb(2),o.Gc(n.total.advance-n.total.deposited),o.zb(1),o.lc("ngIf",n.manualBookingList.length>0&&n.admin)}}function P(t,e){if(1&t&&(o.Qb(0,"div",36),o.Mb(1,"i",37),o.Fc(2),o.Pb()),2&t){var n=o.dc();o.zb(2),o.Hc(" Sorry no ",n.manual?"manual":"automatic"," booking found; ")}}var v=function(){function t(){this.details=new o.n,this.receive=new o.n,this.typefilter="all",this.typeList=[],this.name=[],this.bookingList=[],this.total={payable:0,advance:0,due:0,deposited:0,cash:0,bkash:0,roket:0,nagad:0,ssl:0,bank_transfer:0,other:0}}return t.prototype.ngOnChanges=function(t){t.manualBookingList&&null!=this.manualBookingList&&this.manualBookingList.length>0&&(this.bookingList=this.manualBookingList,this.total=this.calculateTotal(this.bookingList),this.getTypeList())},t.prototype.getTypeList=function(){var t=this;this.typeList=[],this.bookingList.forEach(function(e){t.typeList.includes(e.bookingType)||t.typeList.push(e.bookingType)}),1==this.typeList.length&&this.onFilterType(this.typeList[0])},t.prototype.onFilterType=function(t){switch(this.typefilter=t,t){case"all":this.bookingList=this.manualBookingList;break;default:this.bookingList=this.manualBookingList.filter(function(e){return e.bookingType==t}),this.createNameList()}},t.prototype.createNameList=function(){var t=this;this.name=[],this.bookingList.forEach(function(e){e.name=null==e.name?"No Name":e.name,t.name.includes(e.name)||t.name.push(e.name)})},t.prototype.onFilterName=function(t){switch(t){case"all":this.onFilterType(this.typefilter);break;default:this.bookingList=this.manualBookingList.filter(function(e){return e.name==t})}},t.prototype.onDetails=function(t){this.details.emit(t)},t.prototype.onReceive=function(){this.receive.emit(this.total.advance-this.total.deposited)},t.prototype.calculateTotal=function(t){var e={payable:0,advance:0,due:0,deposited:0,cash:0,bkash:0,roket:0,nagad:0,ssl:0,bank_transfer:0,other:0};return t.forEach(function(t){if(e.payable+=t.payable,e.advance+=t.advance,e.due+=t.due,t.deposited)e.deposited+=t.advance;else switch(t.paymentMethod){case"CASH":e.cash+=t.advance;break;case"BKASH":e.bkash+=t.advance;break;case"ROCKET":e.roket+=t.advance;break;case"NAGAD":e.nagad+=t.advance;break;case"SSL":e.ssl+=t.advance;break;case"BANK_TRANSFER":e.bank_transfer+=t.advance;break;case"OTHER":e.other+=t.advance;break;default:e.cash+=t.advance}}),e},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["manual-booking-list"]],inputs:{manualBookingList:"manualBookingList",manual:"manual",admin:"admin"},outputs:{details:"details",receive:"receive"},features:[o.xb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noBookingFound",""],[1,"table","table-striped","border","table-sm","table-responsive-sm"],["colspan","10",1,"form-head"],[1,"row","m-0"],[1,"col"],[1,"mr-auto"],["class","col-auto",4,"ngIf"],["scope","col"],["scope","col",1,"text-right"],[1,"text-right"],["scope","col",1,"text-right","d-print-none"],[4,"ngFor","ngForOf"],[2,"background-color","lightgray"],["colspan","3"],[1,"table","table-bordered","table-sm"],["colspan","10",1,"form-head2"],["class","d-flex justify-content-end mb-4",4,"ngIf"],[1,"col-auto"],[1,"input-group","input-group-sm","mb-2"],["class","input-group-prepend",4,"ngIf"],["class","form-control","id","typeList",3,"change",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text"],["id","typeList",1,"form-control",3,"change"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["scope","row"],[1,"text-right","d-print-none"],[1,"edit_link",3,"click"],[1,"d-flex","justify-content-end","mb-4"],["class","btn btn-sm btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"badge","badge-success"],[1,"text-center"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t&&(o.Dc(0,p,94,16,"div",0),o.Dc(1,P,3,1,"ng-template",null,1,o.Ec)),2&t){var n=o.vc(2);o.lc("ngIf",(null==e.manualBookingList?null:e.manualBookingList.length)>0)("ngIfElse",n)}},directives:[c.q,c.p,a.q,a.w],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}.form-head[_ngcontent-%COMP%], td.form-head[_ngcontent-%COMP%]{width:inherit;font-size:20px!important;line-height:22px;padding:5px;color:#fff;background-color:#1b2445}.form-head-link[_ngcontent-%COMP%], td.form-head-link[_ngcontent-%COMP%]{font-size:16px}.edit_link[_ngcontent-%COMP%], .form-head-link[_ngcontent-%COMP%], td.form-head-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.form-head2[_ngcontent-%COMP%]{width:inherit;font-size:20px!important;line-height:22px;padding:5px;background-color:#bdbdbd}"]}),t}()}}]);