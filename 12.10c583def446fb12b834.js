(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"8jsf":function(t,e,n){"use strict";n.r(e),n.d(e,"ROUTES",function(){return te}),n.d(e,"AdminAccountingModule",function(){return ee});var o=n("iInd"),r=n("3whx"),c=n("haEQ"),i=n("8Y7J"),a=n("SVse"),b=n("uEz7");function l(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.ec(3,"date"),i.Pb(),i.Qb(4,"td"),i.Fc(5),i.Pb(),i.Qb(6,"td"),i.Fc(7),i.Pb(),i.Qb(8,"td"),i.Fc(9),i.Pb(),i.Qb(10,"td",6),i.Fc(11),i.ec(12,"currency"),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(i.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),i.zb(3),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit),i.zb(2),i.Hc(" ",i.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function s(t,e){if(1&t&&(i.Qb(0,"tbody"),i.Dc(1,l,13,13,"tr",10),i.Pb()),2&t){var n=i.dc();i.zb(1),i.lc("ngForOf",n.adminCashbook.content)}}function u(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",11),i.bc("getPage",function(t){return i.wc(n),i.dc().getAdminCashbook(t)}),i.Pb()}if(2&t){var o=i.dc();i.lc("page",o.adminCashbook)}}var d=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-admin-cashbook"]],decls:25,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"table","border"],[1,"text-right"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","getPage"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Admin cashbook"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"div",2),i.Mb(5,"div",3),i.Qb(6,"div",4),i.Qb(7,"table",5),i.Qb(8,"thead"),i.Qb(9,"tr"),i.Qb(10,"th"),i.Fc(11,"Date"),i.Pb(),i.Qb(12,"th"),i.Fc(13,"Explanation"),i.Pb(),i.Qb(14,"th"),i.Fc(15,"Debit"),i.Pb(),i.Qb(16,"th"),i.Fc(17,"Credit"),i.Pb(),i.Qb(18,"th",6),i.Fc(19,"Balance"),i.Pb(),i.Pb(),i.Pb(),i.Dc(20,s,2,1,"tbody",7),i.Qb(21,"tfoot"),i.Qb(22,"tr"),i.Qb(23,"td",8),i.Dc(24,u,1,1,"pagination",9),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(20),i.lc("ngIf",e.adminCashbook),i.zb(4),i.lc("ngIf",null!=e.adminCashbook))},directives:[a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),f=n("/YPm");function m(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.ec(3,"date"),i.Pb(),i.Qb(4,"td"),i.Fc(5),i.Pb(),i.Qb(6,"td"),i.Fc(7),i.Pb(),i.Qb(8,"td"),i.Fc(9),i.Pb(),i.Qb(10,"td",8),i.Fc(11),i.ec(12,"currency"),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(i.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),i.zb(3),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit),i.zb(2),i.Hc(" ",i.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function p(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",12),i.bc("getPage",function(t){i.wc(n);var e=i.dc(2);return e.getAdminHotelLedgerByHotelId(e.hotelId,t)}),i.Pb()}if(2&t){var o=i.dc(2);i.lc("page",o.adminHotelLedgerPage)}}function h(t,e){if(1&t&&(i.Qb(0,"table",7),i.Qb(1,"thead"),i.Qb(2,"tr"),i.Qb(3,"th"),i.Fc(4,"Date"),i.Pb(),i.Qb(5,"th"),i.Fc(6,"Explanation"),i.Pb(),i.Qb(7,"th"),i.Fc(8,"Debit"),i.Pb(),i.Qb(9,"th"),i.Fc(10,"Credit"),i.Pb(),i.Qb(11,"th",8),i.Fc(12,"Balance"),i.Pb(),i.Pb(),i.Pb(),i.Qb(13,"tbody"),i.Dc(14,m,13,13,"tr",9),i.Pb(),i.Qb(15,"tfoot"),i.Qb(16,"tr"),i.Qb(17,"td",10),i.Dc(18,p,1,1,"pagination",11),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t){var n=i.dc();i.zb(14),i.lc("ngForOf",n.adminHotelLedgerPage.content),i.zb(4),i.lc("ngIf",null!=n.adminHotelLedgerPage)}}var g=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){},t.prototype.onHotel=function(t){this.hotelId=t.id,this.getAdminHotelLedgerByHotelId(t.id)},t.prototype.getAdminHotelLedgerByHotelId=function(t,e){return void 0===e&&(e=0),n=this,void 0,r=function(){var n=this;return function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}(this,function(o){switch(o.label){case 0:return[4,this.accountingService.getAdminHotelLedger(t,e).subscribe(function(t){n.adminHotelLedgerPage=t})];case 1:return o.sent(),[2]}})},new((o=void 0)||(o=Promise))(function(t,e){function c(t){try{a(r.next(t))}catch(n){e(n)}}function i(t){try{a(r.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o(function(t){t(n)})).then(c,i)}a((r=r.apply(n,[])).next())});var n,o,r},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-hotel-ledger"]],decls:9,vars:1,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row","m-0"],[1,"col-md-4","p-0"],[3,"hotel"],[1,"col-md-8","p-0","pl-md-2"],["class","table border",4,"ngIf"],[1,"table","border"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Hotel ledger"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"div",2),i.Qb(5,"div",3),i.Qb(6,"admin-hotel-list",4),i.bc("hotel",function(t){return e.onHotel(t)}),i.Pb(),i.Pb(),i.Qb(7,"div",5),i.Dc(8,h,19,2,"table",6),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(8),i.lc("ngIf",e.adminHotelLedgerPage))},directives:[f.a,a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),P=n("s7LF");function v(t,e){1&t&&(i.Qb(0,"small",12),i.Fc(1," Explanation required "),i.Pb())}function Q(t,e){1&t&&(i.Qb(0,"small",12),i.Fc(1," Debit required "),i.Pb())}function y(t,e){if(1&t&&(i.Qb(0,"div",3),i.Qb(1,"label",13),i.Fc(2,"Debit"),i.Pb(),i.Mb(3,"input",14),i.Dc(4,Q,2,0,"small",6),i.Pb()),2&t){var n=i.dc();i.zb(4),i.lc("ngIf",n.form.controls.debit.errors&&n.form.controls.debit.touched)}}function F(t,e){1&t&&(i.Qb(0,"small",12),i.Fc(1," Credit required "),i.Pb())}function k(t,e){if(1&t&&(i.Qb(0,"div",3),i.Qb(1,"label",15),i.Fc(2,"Credit"),i.Pb(),i.Mb(3,"input",16),i.Dc(4,F,2,0,"small",6),i.Pb()),2&t){var n=i.dc();i.zb(4),i.lc("ngIf",n.form.controls.credit.errors&&n.form.controls.credit.touched)}}function x(t,e){1&t&&(i.Qb(0,"a",17),i.Fc(1," Add income "),i.Pb())}function C(t,e){1&t&&(i.Qb(0,"a",18),i.Fc(1," Add expense "),i.Pb())}var w=function(t){return{disabled:t}},z=function(){function t(t){this.builder=t,this.value=new i.n,this.createForm()}return t.prototype.ngOnChanges=function(t){t.expenseForm&&this.form.patchValue(1==t.expenseForm.currentValue?{debit:0}:{credit:0})},t.prototype.createForm=function(){this.form=this.builder.group({explanation:["",P.v.required],debit:["",P.v.required],credit:["",P.v.required]})},t.prototype.submit=function(){this.form.valid&&(this.value.emit(this.form.value),this.form.reset())},t.\u0275fac=function(e){return new(e||t)(i.Lb(P.d))},t.\u0275cmp=i.Fb({type:t,selectors:[["admin-income-expense"]],inputs:{expenseForm:"expenseForm"},outputs:{value:"value"},features:[i.xb],decls:16,vars:10,consts:[[1,"container"],[1,"text-center"],[1,"border","p-3",3,"formGroup","ngSubmit"],[1,"form-group"],["for","explanation"],["id","explanation","formControlName","explanation",1,"form-control"],["class","text-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-income",4,"ngIf"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-expense",4,"ngIf"],["type","submit",1,"btn","btn-primary","mx-1",3,"ngClass"],[1,"text-danger"],["for","debit"],["type","number","id","debit","formControlName","debit",1,"form-control"],["for","credit"],["type","number","id","credit","formControlName","credit",1,"form-control"],["routerLink","/dashboard/admin/accountings/add-income",1,"btn","btn-success"],["routerLink","/dashboard/admin/accountings/add-expense",1,"btn","btn-success"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h3",1),i.Fc(2),i.Pb(),i.Qb(3,"form",2),i.bc("ngSubmit",function(){return e.submit()}),i.Qb(4,"div",3),i.Qb(5,"label",4),i.Fc(6,"Explanation"),i.Pb(),i.Mb(7,"input",5),i.Dc(8,v,2,0,"small",6),i.Pb(),i.Dc(9,y,5,1,"div",7),i.Dc(10,k,5,1,"div",7),i.Qb(11,"div",8),i.Dc(12,x,2,0,"a",9),i.Dc(13,C,2,0,"a",10),i.Qb(14,"button",11),i.Fc(15," Submit "),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(2),i.Hc("",e.expenseForm?"Expense":"Income"," Form"),i.zb(1),i.lc("formGroup",e.form),i.zb(5),i.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),i.zb(1),i.lc("ngIf",!e.expenseForm),i.zb(1),i.lc("ngIf",e.expenseForm),i.zb(2),i.lc("ngIf",e.expenseForm),i.zb(1),i.lc("ngIf",!e.expenseForm),i.zb(1),i.lc("ngClass",i.pc(8,w,e.form.invalid)))},directives:[P.x,P.n,P.g,P.b,P.m,P.f,a.q,a.o,P.r,o.d],styles:[""]}),t}();function D(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.ec(3,"date"),i.Pb(),i.Qb(4,"td"),i.Fc(5),i.Pb(),i.Qb(6,"td"),i.Fc(7),i.Pb(),i.Qb(8,"td"),i.Fc(9),i.Pb(),i.Qb(10,"td",3),i.Fc(11),i.ec(12,"currency"),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(i.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),i.zb(3),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit),i.zb(2),i.Hc(" ",i.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function I(t,e){if(1&t&&(i.Qb(0,"tbody"),i.Dc(1,D,13,13,"tr",7),i.Pb()),2&t){var n=i.dc();i.zb(1),i.lc("ngForOf",n.adminCashbook.content)}}function M(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",8),i.bc("getPage",function(t){return i.wc(n),i.dc().getServiceAdminCashbook(t)}),i.Pb()}if(2&t){var o=i.dc();i.lc("page",o.adminCashbook)}}var S=function(){function t(){this.page=new i.n}return t.prototype.getServiceAdminCashbook=function(t){this.page.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["admin-cashbook-comp"]],inputs:{adminCashbook:"adminCashbook"},outputs:{page:"page"},decls:21,vars:2,consts:[[1,"container-fluid"],[1,"text-center"],[1,"table","border"],[1,"text-right"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","getPage"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h3",1),i.Fc(2,"Cashbook"),i.Pb(),i.Qb(3,"table",2),i.Qb(4,"thead"),i.Qb(5,"tr"),i.Qb(6,"th"),i.Fc(7,"Date"),i.Pb(),i.Qb(8,"th"),i.Fc(9,"Explanation"),i.Pb(),i.Qb(10,"th"),i.Fc(11,"Debit"),i.Pb(),i.Qb(12,"th"),i.Fc(13,"Credit"),i.Pb(),i.Qb(14,"th",3),i.Fc(15,"Balance"),i.Pb(),i.Pb(),i.Pb(),i.Dc(16,I,2,1,"tbody",4),i.Qb(17,"tfoot"),i.Qb(18,"tr"),i.Qb(19,"td",5),i.Dc(20,M,1,1,"pagination",6),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(16),i.lc("ngIf",e.adminCashbook),i.zb(4),i.lc("ngIf",null!=e.adminCashbook))},directives:[a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.2rem}"],changeDetection:0}),t}(),A=function(){function t(t){this.accountingService=t,this.expenseForm=!1}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.prototype.onSubmit=function(t){var e=this;this.accountingService.addAdminIncome(t.debit,t.explanation).subscribe(function(t){console.log("Success"),e.getAdminCashbook()})},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-add-income"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbook","page"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Add income"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"div",2),i.Qb(5,"div",3),i.Qb(6,"admin-income-expense",4),i.bc("value",function(t){return e.onSubmit(t)}),i.Pb(),i.Pb(),i.Qb(7,"div",5),i.Qb(8,"admin-cashbook-comp",6),i.bc("page",function(t){return e.getAdminCashbook(t)}),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(6),i.lc("expenseForm",e.expenseForm),i.zb(2),i.lc("adminCashbook",e.adminCashbook))},directives:[z,S],styles:[""]}),t}(),O=function(){function t(t){this.accountingService=t,this.expenseForm=!0}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.prototype.onSubmit=function(t){var e=this;this.accountingService.addAdminExpense(t.credit,t.explanation).subscribe(function(t){console.log("Success"),e.getAdminCashbook()})},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-add-expense"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbook","page"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Add expense"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"div",2),i.Qb(5,"div",3),i.Qb(6,"admin-income-expense",4),i.bc("value",function(t){return e.onSubmit(t)}),i.Pb(),i.Pb(),i.Qb(7,"div",5),i.Qb(8,"admin-cashbook-comp",6),i.bc("page",function(t){return e.getAdminCashbook(t)}),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(6),i.lc("expenseForm",e.expenseForm),i.zb(2),i.lc("adminCashbook",e.adminCashbook))},directives:[z,S],styles:[""]}),t}();function L(t,e){1&t&&(i.Qb(0,"small",9),i.Fc(1," Amount required "),i.Pb())}var H=function(t){return{disabled:t}},B=function(){function t(t){this.builder=t,this.value=new i.n,this.createForm()}return t.prototype.ngOnChanges=function(t){t.hotelId&&this.form.patchValue({hotelId:this.hotelId})},t.prototype.createForm=function(){this.form=this.builder.group({hotelId:["",P.v.required],amount:["",P.v.required]})},t.prototype.submit=function(){this.form.valid&&(this.value.emit(this.form.value),this.form.reset())},t.\u0275fac=function(e){return new(e||t)(i.Lb(P.d))},t.\u0275cmp=i.Fb({type:t,selectors:[["pay-hotel-form"]],inputs:{hotelId:"hotelId"},outputs:{value:"value"},features:[i.xb],decls:12,vars:5,consts:[[1,"container"],[1,"text-center"],[1,"border","p-3",3,"formGroup","ngSubmit"],[1,"form-group"],["for","amount"],["type","number","id","amount","formControlName","amount",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["type","submit",1,"btn","btn-primary","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h3",1),i.Fc(2,"Hotel Pay Form"),i.Pb(),i.Qb(3,"form",2),i.bc("ngSubmit",function(){return e.submit()}),i.Qb(4,"div",3),i.Qb(5,"label",4),i.Fc(6,"Amount"),i.Pb(),i.Mb(7,"input",5),i.Dc(8,L,2,0,"small",6),i.Pb(),i.Qb(9,"div",7),i.Qb(10,"button",8),i.Fc(11," Submit "),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(3),i.lc("formGroup",e.form),i.zb(5),i.lc("ngIf",e.form.controls.amount.errors&&e.form.controls.amount.touched),i.zb(2),i.lc("ngClass",i.pc(3,H,e.form.invalid)))},directives:[P.x,P.n,P.g,P.r,P.b,P.m,P.f,a.q,a.o],styles:[""]}),t}();function G(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",3),i.Qb(1,"pay-hotel-form",7),i.bc("value",function(t){return i.wc(n),i.dc().onSubmit(t)}),i.Pb(),i.Pb()}if(2&t){var o=i.dc();i.zb(1),i.lc("hotelId",o.hotelId)}}function E(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.ec(3,"date"),i.Pb(),i.Qb(4,"td"),i.Fc(5),i.Pb(),i.Qb(6,"td"),i.Fc(7),i.Pb(),i.Qb(8,"td"),i.Fc(9),i.Pb(),i.Qb(10,"td",11),i.Fc(11),i.ec(12,"currency"),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(i.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),i.zb(3),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit),i.zb(2),i.Hc(" ",i.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function q(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",15),i.bc("getPage",function(t){i.wc(n);var e=i.dc(2);return e.getAdminHotelLedgerByHotelId(e.hotelId,t)}),i.Pb()}if(2&t){var o=i.dc(2);i.lc("page",o.adminHotelLedgerPage)}}function R(t,e){if(1&t&&(i.Qb(0,"div",8),i.Qb(1,"h3",9),i.Fc(2,"Hotel ledger"),i.Pb(),i.Qb(3,"table",10),i.Qb(4,"thead"),i.Qb(5,"tr"),i.Qb(6,"th"),i.Fc(7,"Date"),i.Pb(),i.Qb(8,"th"),i.Fc(9,"Explanation"),i.Pb(),i.Qb(10,"th"),i.Fc(11,"Debit"),i.Pb(),i.Qb(12,"th"),i.Fc(13,"Credit"),i.Pb(),i.Qb(14,"th",11),i.Fc(15,"Balance"),i.Pb(),i.Pb(),i.Pb(),i.Qb(16,"tbody"),i.Dc(17,E,13,13,"tr",12),i.Pb(),i.Qb(18,"tfoot"),i.Qb(19,"tr"),i.Qb(20,"td",13),i.Dc(21,q,1,1,"pagination",14),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t){var n=i.dc();i.zb(17),i.lc("ngForOf",n.adminHotelLedgerPage.content),i.zb(4),i.lc("ngIf",null!=n.adminHotelLedgerPage)}}var _=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){},t.prototype.onSelectHotel=function(t){this.hotelId=t.id,this.getAdminHotelLedgerByHotelId(t.id)},t.prototype.getAdminHotelLedgerByHotelId=function(t,e){return void 0===e&&(e=0),n=this,void 0,r=function(){var n=this;return function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}(this,function(o){switch(o.label){case 0:return[4,this.accountingService.getAdminHotelLedger(t,e).subscribe(function(t){n.adminHotelLedgerPage=t})];case 1:return o.sent(),[2]}})},new((o=void 0)||(o=Promise))(function(t,e){function c(t){try{a(r.next(t))}catch(n){e(n)}}function i(t){try{a(r.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o(function(t){t(n)})).then(c,i)}a((r=r.apply(n,[])).next())});var n,o,r},t.prototype.onSubmit=function(t){var e=this,n=t.hotelId,o=t.amount;console.log(n,o),this.hotelId=null,this.adminHotelLedgerPage=null,this.accountingService.payToHotel(n,o).subscribe(function(t){e.getAdminHotelLedgerByHotelId(n)})},t.\u0275fac=function(e){return new(e||t)(i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-pay-to-hotel"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-3"],[3,"hotel"],["class","col-md-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],[3,"hotelId","value"],[1,"col-md-6"],[1,"text-center"],[1,"table","border"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Pay to hotel"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"div",2),i.Qb(5,"div",3),i.Qb(6,"admin-hotel-list",4),i.bc("hotel",function(t){return e.onSelectHotel(t)}),i.Pb(),i.Pb(),i.Dc(7,G,2,1,"div",5),i.Dc(8,R,22,2,"div",6),i.Pb(),i.Pb()),2&t&&(i.zb(7),i.lc("ngIf",e.hotelId),i.zb(1),i.lc("ngIf",e.adminHotelLedgerPage))},directives:[f.a,a.q,B,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),N=n("ITiG"),T=n("HF3I"),j=function(){return(j=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$=function(t,e,n,o){return new(n||(n=Promise))(function(r,c){function i(t){try{b(o.next(t))}catch(e){c(e)}}function a(t){try{b(o.throw(t))}catch(e){c(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}b((o=o.apply(t,e||[])).next())})},V=function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function J(t,e){if(1&t){var n=i.Rb();i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.Pb(),i.Qb(3,"td"),i.Fc(4),i.Pb(),i.Qb(5,"td"),i.Fc(6),i.Pb(),i.Qb(7,"td"),i.Qb(8,"button",15),i.bc("click",function(){i.wc(n);var t=e.$implicit;return i.dc(2).onSelect(t.id)}),i.Mb(9,"i",16),i.Pb(),i.Pb(),i.Pb()}if(2&t){var o=e.$implicit;i.zb(2),i.Gc(o.name),i.zb(2),i.Gc(o.phoneNumber),i.zb(2),i.Gc(o.email)}}function U(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",10),i.Qb(1,"h3",6),i.Fc(2,"Agent list"),i.Pb(),i.Qb(3,"table",11),i.Qb(4,"thead"),i.Qb(5,"tr"),i.Qb(6,"th"),i.Fc(7,"Name"),i.Pb(),i.Qb(8,"th"),i.Fc(9,"Phone"),i.Pb(),i.Qb(10,"th"),i.Fc(11,"Email"),i.Pb(),i.Mb(12,"th"),i.Pb(),i.Pb(),i.Qb(13,"tbody"),i.Dc(14,J,10,3,"tr",12),i.Pb(),i.Qb(15,"tfoot"),i.Qb(16,"tr"),i.Qb(17,"td",13),i.Qb(18,"pagination",14),i.bc("getPage",function(t){return i.wc(n),i.dc().getUserPage(t)}),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){var o=i.dc();i.zb(14),i.lc("ngForOf",null==o.userPage?null:o.userPage.content),i.zb(4),i.lc("page",o.userPage)}}function Y(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Fc(2),i.ec(3,"date"),i.Pb(),i.Qb(4,"td"),i.Fc(5),i.Pb(),i.Qb(6,"td"),i.Fc(7),i.Pb(),i.Qb(8,"td"),i.Fc(9),i.Pb(),i.Qb(10,"td",22),i.Fc(11),i.ec(12,"currency"),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(i.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),i.zb(3),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit),i.zb(2),i.Hc(" ",i.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function K(t,e){if(1&t&&(i.Qb(0,"tbody"),i.Dc(1,Y,13,13,"tr",12),i.Pb()),2&t){var n=i.dc(2);i.zb(1),i.lc("ngForOf",n.adminAgentLedgerPage.content)}}function W(t,e){1&t&&(i.Qb(0,"tr"),i.Qb(1,"td",18),i.Mb(2,"loading"),i.Pb(),i.Pb())}function X(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",14),i.bc("getPage",function(t){i.wc(n);var e=i.dc(2);return e.getAgentLedger(null==e.user?null:e.user.id,t)}),i.Pb()}if(2&t){var o=i.dc(2);i.lc("page",o.adminAgentLedgerPage)}}function Z(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",10),i.Qb(1,"h3",6),i.Fc(2),i.Pb(),i.Qb(3,"table",11),i.Qb(4,"thead"),i.Qb(5,"tr"),i.Qb(6,"th"),i.Fc(7,"Date"),i.Pb(),i.Qb(8,"th"),i.Fc(9,"Explanation"),i.Pb(),i.Qb(10,"th"),i.Fc(11,"Debit"),i.Pb(),i.Qb(12,"th"),i.Fc(13,"Credit"),i.Pb(),i.Qb(14,"th"),i.Fc(15,"Balance"),i.Pb(),i.Pb(),i.Pb(),i.Dc(16,K,2,1,"tbody",17),i.Qb(17,"tfoot"),i.Dc(18,W,3,0,"tr",17),i.Qb(19,"tr"),i.Qb(20,"td",18),i.Dc(21,X,1,1,"pagination",19),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(22,"div",20),i.Qb(23,"button",21),i.bc("click",function(){return i.wc(n),i.dc().clear()}),i.Fc(24," Back to agent list "),i.Pb(),i.Pb(),i.Pb()}if(2&t){var o=i.dc();i.zb(2),i.Hc("",null==o.user?null:o.user.name," Ledger"),i.zb(14),i.lc("ngIf",o.adminAgentLedgerPage),i.zb(2),i.lc("ngIf",o.loading),i.zb(3),i.lc("ngIf",null!=o.adminAgentLedgerPage)}}function tt(t,e){if(1&t&&(i.Qb(0,"div",23),i.Fc(1),i.Pb()),2&t){var n=i.dc();i.zb(1),i.Hc(" ",n.message," ")}}function et(t,e){if(1&t){var n=i.Rb();i.Qb(0,"button",29),i.bc("click",function(){return i.wc(n),i.dc(2).addBalace()}),i.Fc(1," Add "),i.Pb()}}function nt(t,e){if(1&t){var n=i.Rb();i.Qb(0,"form",24),i.Qb(1,"div",25),i.Qb(2,"label"),i.Fc(3," Amount "),i.Pb(),i.Pb(),i.Qb(4,"div",26),i.Qb(5,"input",27),i.bc("ngModelChange",function(t){return i.wc(n),i.dc().amount=t}),i.Pb(),i.Pb(),i.Dc(6,et,2,0,"button",28),i.Pb()}if(2&t){var o=i.dc();i.zb(5),i.lc("ngModel",o.amount),i.zb(1),i.lc("ngIf",o.amount>0)}}var ot=function(){function t(t,e){this.userService=t,this.accountingService=e,this.amount=0,this.loading=!1,this.message=""}return t.prototype.ngOnInit=function(){this.getUserPage()},t.prototype.getUserPage=function(t){return void 0===t&&(t=0),$(this,void 0,void 0,function(){var e=this;return V(this,function(n){return this.loading=!0,this.userService.getAdminAgents(t).subscribe(function(t){e.userPage=t,e.loading=!0}),[2]})})},t.prototype.onSelect=function(t){var e=this.userPage.content.find(function(e){return e.id===t});this.user=j({},e),this.getAgentLedger(e.id)},t.prototype.getAgentLedger=function(t,e){return void 0===e&&(e=0),$(this,void 0,void 0,function(){var n=this;return V(this,function(o){return this.loading=!0,this.accountingService.getAdminAgentLedgerByAdmin(t,e).subscribe(function(t){n.adminAgentLedgerPage=t,n.loading=!1}),[2]})})},t.prototype.addBalace=function(){return $(this,void 0,void 0,function(){var t=this;return V(this,function(e){return confirm("Are you sure to add balance "+this.amount+" to "+this.user.name+" Account ")&&this.accountingService.addAdminAgentBalance(this.user.id,this.amount).subscribe(function(e){t.message="Amount added successfully",t.amount=0,t.getAgentLedger(t.user.id)}),[2]})})},t.prototype.clear=function(){this.message="",this.user=null},t.\u0275fac=function(e){return new(e||t)(i.Lb(N.a),i.Lb(c.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-add-agent-balance"]],decls:13,vars:4,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],["class","col-md-8",4,"ngIf"],[1,"col-md-4"],[1,"text-center"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"d-flex","justify-content-center","my-5"],["class","form-inline",4,"ngIf"],[1,"col-md-8"],[1,"table","border"],[4,"ngFor","ngForOf"],["colspan","4"],[3,"page","getPage"],[1,"btn-sm","btn-warning",3,"click"],[1,"fa","fa-pencil-square-o"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"text-right"],["role","alert",1,"alert","alert-success"],[1,"form-inline"],[1,"form-group","mb-2"],[1,"form-group","mx-sm-3","mb-2"],["type","number","id","amount","name","amount",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-primary mb-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mb-2",3,"click"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Add agent balance"),i.Pb(),i.Pb(),i.Qb(3,"div",2),i.Qb(4,"div",3),i.Dc(5,U,19,2,"div",4),i.Dc(6,Z,25,4,"div",4),i.Qb(7,"div",5),i.Qb(8,"h3",6),i.Fc(9,"Add agent balance"),i.Pb(),i.Dc(10,tt,2,1,"div",7),i.Qb(11,"div",8),i.Dc(12,nt,7,2,"form",9),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(5),i.lc("ngIf",!e.user),i.zb(1),i.lc("ngIf",e.user),i.zb(4),i.lc("ngIf",e.message.length>0),i.zb(2),i.lc("ngIf",e.user))},directives:[a.q,a.p,b.a,T.a,P.x,P.n,P.o,P.r,P.b,P.m,P.p],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}"]}),t}(),rt=n("+2eb"),ct=n("s1VS"),it=n("kU/X"),at=n("/e7+"),bt=n("G0yt"),lt=n("sMOk"),st=n("lWB2"),ut=function(t,e,n,o){return new(n||(n=Promise))(function(r,c){function i(t){try{b(o.next(t))}catch(e){c(e)}}function a(t){try{b(o.throw(t))}catch(e){c(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}b((o=o.apply(t,e||[])).next())})},dt=function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function ft(t,e){if(1&t){var n=i.Rb();i.Qb(0,"tr",27),i.bc("click",function(){i.wc(n);var t=e.$implicit,o=i.dc();return o.onSelectAgent(t.id,o.date)}),i.Qb(1,"td"),i.Fc(2),i.Pb(),i.Qb(3,"td"),i.Fc(4),i.Pb(),i.Pb()}if(2&t){var o=e.$implicit;i.zb(2),i.Gc(o.name),i.zb(2),i.Gc(o.phoneNumber)}}function mt(t,e){if(1&t&&(i.Qb(0,"div",12),i.Qb(1,"h5"),i.Fc(2),i.Pb(),i.Pb()),2&t){var n=i.dc();i.zb(2),i.Hc(" Counter : ",null==n.user?null:n.user.name,"")}}function pt(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",30),i.Qb(1,"manual-booking-list",31),i.bc("details",function(t){return i.wc(n),i.dc(2).onManualDetails(t)})("receive",function(t){i.wc(n);var e=i.dc(2);return e.onManualReceive(t,e.user,e.date)}),i.Pb(),i.Qb(2,"manual-booking-list",31),i.bc("details",function(t){return i.wc(n),i.dc(2).onBookingDetails(t)})("receive",function(t){i.wc(n);var e=i.dc(2);return e.onAutomaticReceive(t,e.user,e.date)}),i.Pb(),i.Pb()}if(2&t){var o=i.dc(2);i.zb(1),i.lc("manualBookingList",o.manualBookingList)("manual",!0)("admin",!0),i.zb(1),i.lc("manualBookingList",o.bookingList)("manual",!1)("admin",!0)}}function ht(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",32),i.Qb(1,"manual-booking-details",33),i.bc("clear",function(){return i.wc(n),i.dc(2).clear()}),i.Pb(),i.Pb()}if(2&t){var o=i.dc(2);i.zb(1),i.lc("manualBooking",o.manualBooking)}}function gt(t,e){if(1&t&&(i.Qb(0,"div",3),i.Dc(1,pt,3,6,"div",28),i.Dc(2,ht,2,1,"ng-template",null,29,i.Ec),i.Pb()),2&t){var n=i.vc(3),o=i.dc();i.zb(1),i.lc("ngIf",!o.manualBooking)("ngIfElse",n)}}function Pt(t,e){1&t&&(i.Qb(0,"div",34),i.Mb(1,"i",35),i.Fc(2," Please select a counter first; "),i.Pb())}var vt=function(){function t(t,e,n,o,r){this.userService=t,this.manualBookingService=e,this.accountsService=n,this.reportService=o,this.util=r,this.userList=[],this.manualBookingList=[],this.bookingList=[],this.loading=!1,this.errorMessage="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.getAgentList()},t.prototype.getAgentList=function(t){return void 0===t&&(t=0),ut(this,void 0,void 0,function(){var t,e;return dt(this,function(n){switch(n.label){case 0:this.loading=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.userService.getAdminUserByRole("Counter").toPromise()];case 2:return t.userList=n.sent(),this.loading=!1,[3,4];case 3:return e=n.sent(),this.errorMessage=e,this.loading=!1,console.log(e),[3,4];case 4:return[2]}})})},t.prototype.getCounterReportManual=function(t,e){return ut(this,void 0,void 0,function(){var n,o;return dt(this,function(r){switch(r.label){case 0:this.user=this.userList.find(function(e){return e.id==t}),r.label=1;case 1:return r.trys.push([1,3,,4]),this.manualBookingList=[],this.loading=!0,n=this,[4,this.manualBookingService.getForDayAndCreateBy(t,e).toPromise()];case 2:return n.manualBookingList=r.sent(),this.loading=!1,[3,4];case 3:return o=r.sent(),this.errorMessage=o,this.loading=!1,console.log(o),[3,4];case 4:return[2]}})})},t.prototype.getCounterReportHotel=function(t,e){return ut(this,void 0,void 0,function(){var n,o;return dt(this,function(r){switch(r.label){case 0:this.user=this.userList.find(function(e){return e.id==t}),r.label=1;case 1:return r.trys.push([1,3,,4]),this.loading=!0,n=this,[4,this.reportService.getForDayAndCreateBy(t,e).toPromise()];case 2:return n.bookingList=r.sent(),this.loading=!1,[3,4];case 3:return o=r.sent(),this.errorMessage=o,this.loading=!1,[3,4];case 4:return[2]}})})},t.prototype.onSelectAgent=function(t){this.getCounterReportManual(t,this.util.makeDateString(this.date)),this.getCounterReportHotel(t,this.util.makeDateString(this.date))},t.prototype.onBookingDetails=function(t){this.manualBooking=this.bookingList.find(function(e){return e.id==t})},t.prototype.onManualDetails=function(t){this.manualBooking=this.manualBookingList.find(function(e){return e.id==t})},t.prototype.adjustDay=function(t){var e=new Date(this.date.year,this.date.month-1,this.date.day+t);this.date=this.util.convertJsDateToNgbDate(e),this.user&&(this.getCounterReportManual(this.user.id,this.util.makeDateString(this.date)),this.getCounterReportHotel(this.user.id,this.util.makeDateString(this.date)))},t.prototype.onManualReceive=function(t,e,n){return ut(this,void 0,void 0,function(){var o;return dt(this,function(r){switch(r.label){case 0:if(!(t>0))return[3,4];if(!confirm("Are you sure to receive manual payments for "+this.user.name+", total amount = "+t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.accountsService.receiveCounterMoneyManual(e.id,this.util.makeDateString(n)).toPromise()];case 2:return r.sent(),this.getCounterReportManual(e.id,this.util.makeDateString(n)),this.getCounterReportHotel(e.id,this.util.makeDateString(n)),[3,4];case 3:return o=r.sent(),this.errorMessage=o,[3,4];case 4:return[2]}})})},t.prototype.onAutomaticReceive=function(t,e,n){return ut(this,void 0,void 0,function(){var o;return dt(this,function(r){switch(r.label){case 0:if(!(t>0))return[3,4];if(!confirm("Are you sure to receive automatic payments for "+this.user.name+", total amount = "+t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.accountsService.receiveCounterMoneyAutomatic(e.id,this.util.makeDateString(n)).toPromise()];case 2:return r.sent(),this.getCounterReportManual(e.id,this.util.makeDateString(n)),this.getCounterReportHotel(e.id,this.util.makeDateString(n)),[3,4];case 3:return o=r.sent(),this.errorMessage=o,[3,4];case 4:return[2]}})})},t.prototype.clear=function(){this.manualBooking=null},t.\u0275fac=function(e){return new(e||t)(i.Lb(N.a),i.Lb(ct.a),i.Lb(rt.a),i.Lb(it.a),i.Lb(at.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-counter-money"]],decls:45,vars:5,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-3"],[1,"shadow-sm","bg-white","p-3","rounded-lg"],[1,"table","table-sm","table-hover","table-bordered"],[2,"background-color","#f8f9fa"],["colspan","2"],[1,"mr-auto"],["class","user-row",3,"click",4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"col-auto"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-chevron-left"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","click","ngModelChange","dateSelect"],["rDate","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],[1,"fa","fa-chevron-right"],["class","col-auto",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["noUserSelected",""],[1,"user-row",3,"click"],["class","col-12",4,"ngIf","ngIfElse"],["showBookingDetails",""],[1,"col-12"],[3,"manualBookingList","manual","admin","details","receive"],[1,"col-12","text-center"],[3,"manualBooking","clear"],[1,"text-center"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t){var n=i.Rb();i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Receive Counter Money"),i.Pb(),i.Pb(),i.Qb(3,"div",2),i.Qb(4,"div",3),i.Qb(5,"div",4),i.Qb(6,"div",5),i.Qb(7,"table",6),i.Qb(8,"thead"),i.Qb(9,"tr",7),i.Qb(10,"td",8),i.Qb(11,"h5",9),i.Fc(12,"List of Coutner"),i.Pb(),i.Pb(),i.Pb(),i.Qb(13,"tr"),i.Qb(14,"th"),i.Fc(15,"Name"),i.Pb(),i.Qb(16,"th"),i.Fc(17,"Phone"),i.Pb(),i.Pb(),i.Pb(),i.Qb(18,"tbody"),i.Dc(19,ft,5,2,"tr",10),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(20,"div",11),i.Qb(21,"div",5),i.Qb(22,"div",3),i.Qb(23,"div",12),i.Qb(24,"button",13),i.bc("click",function(){return e.adjustDay(-1)}),i.Mb(25,"i",14),i.Fc(26," Prev"),i.Pb(),i.Pb(),i.Qb(27,"div",12),i.Qb(28,"div",15),i.Qb(29,"div",16),i.Qb(30,"div",17),i.Fc(31,"Date"),i.Pb(),i.Pb(),i.Qb(32,"input",18,19),i.bc("click",function(){return i.wc(n),i.vc(33).toggle()})("ngModelChange",function(t){return e.date=t})("dateSelect",function(){return e.adjustDay(0)}),i.Pb(),i.Qb(34,"div",20),i.Qb(35,"button",21),i.bc("click",function(){return i.wc(n),i.vc(33).toggle()}),i.Mb(36,"i",22),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(37,"div",12),i.Qb(38,"button",13),i.bc("click",function(){return e.adjustDay(1)}),i.Fc(39," Next "),i.Mb(40,"i",23),i.Pb(),i.Pb(),i.Dc(41,mt,3,1,"div",24),i.Pb(),i.Dc(42,gt,4,2,"div",25),i.Dc(43,Pt,3,0,"ng-template",null,26,i.Ec),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){var o=i.vc(44);i.zb(19),i.lc("ngForOf",e.userList),i.zb(13),i.lc("ngModel",e.date),i.zb(9),i.lc("ngIf",e.user),i.zb(1),i.lc("ngIf",e.user)("ngIfElse",o)}},directives:[a.p,bt.i,P.b,P.m,P.p,a.q,lt.a,st.a],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}[_nghost-%COMP%]{background-color:#f0f2f5;display:block;min-height:calc(100vh - 59px)}.user-row[_ngcontent-%COMP%]{cursor:pointer}.form-head[_ngcontent-%COMP%]{width:inherit;font-size:20px!important;line-height:22px;padding:5px;color:#fff;background-color:#1b2445}.form-head-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;font-size:16px}"]}),t}(),Qt=n("lpBv"),yt=["Automatic","Agent Balance","BUS","Hotel","Manual","Other","Ship","Tour"],Ft=n("Sa+r"),kt=function(){return(kt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function xt(t,e){if(1&t&&(i.Qb(0,"div",24),i.Fc(1),i.Pb()),2&t){var n=i.dc();i.zb(1),i.Hc(" ",n.message,"\n")}}function Ct(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n.key),i.zb(1),i.Hc(" ",n.value," ")}}function wt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function zt(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n),i.zb(1),i.Hc(" ",n," ")}}function Dt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function It(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n),i.zb(1),i.Hc(" ",n," ")}}function Mt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function St(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Explanation required"),i.Pb())}function At(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Debit required"),i.Pb())}function Ot(t,e){if(1&t&&(i.Qb(0,"div",27),i.Fc(1),i.Pb()),2&t){var n=i.dc();i.zb(1),i.Hc(" ",n.getFormValidationErrors()," ")}}var Lt=function(){function t(t,e){this.builder=t,this.util=e,this.create=new i.n,this.incomeList=yt,this.companyList=Qt.a,this.paymentMethods=Ft.b,this.mouseoverShifting=!1,this.message="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.createForm()},t.prototype.createForm=function(){this.form=this.builder.group({date:[this.date,P.v.required],explanation:["",P.v.required],company:["Hotelswave.com",P.v.required],type:["",P.v.required],paymentMethod:["CASH",P.v.required],debit:["",P.v.required],credit:[0,P.v.required]})},t.prototype.submit=function(){if(this.form.valid){console.log(this.form.value);var t=this.util.makeDateString(this.form.value.date),e=kt(kt({},this.form.value),{date:t});this.create.emit(e),this.clear()}},t.prototype.getFormValidationErrors=function(){var t=this,e="";return Object.keys(this.form.controls).forEach(function(n){var o=t.form.get(n).errors;null!=o&&Object.keys(o).forEach(function(t){e+=n+" : "+t+"; "})}),e},t.prototype.clear=function(){this.form.reset(),this.form.patchValue({date:this.date,credit:0}),this.message=""},t.\u0275fac=function(e){return new(e||t)(i.Lb(P.d),i.Lb(at.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["accounts-add-income"]],outputs:{create:"create"},decls:50,vars:13,consts:[[1,"mr-auto","p-2",2,"background-color","#f8f9fa"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"mb-4",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["dd","ngbDatepicker"],["for","paymentMethod",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","paymentMethod","formControlName","paymentMethod",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["for","company",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","company","formControlName","company",1,"form-control","form-control-sm"],["for","type",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","type","formControlName","type",1,"form-control","form-control-sm"],["for","explanation",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","explanation","formControlName","explanation","placeholder","Explanation",1,"form-control","form-control-sm"],["for","debit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","debit","formControlName","debit","placeholder","Debit",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"value"],[1,"form-text","text-danger"],[1,"text-danger"]],template:function(t,e){if(1&t){var n=i.Rb();i.Qb(0,"h5",0),i.Fc(1,"Income form"),i.Pb(),i.Dc(2,xt,2,1,"div",1),i.Qb(3,"form",2),i.bc("ngSubmit",function(){return e.submit()})("mouseleave",function(){return e.mouseoverShifting=!1}),i.Qb(4,"div",3),i.Qb(5,"label",4),i.Fc(6,"Date*"),i.Pb(),i.Qb(7,"input",5,6),i.bc("click",function(){return i.wc(n),i.vc(8).toggle()}),i.Pb(),i.Pb(),i.Qb(9,"div",3),i.Qb(10,"label",7),i.Fc(11,"Payment Method*"),i.Pb(),i.Qb(12,"select",8),i.Qb(13,"option",9),i.Fc(14,"Select a Payment Method"),i.Pb(),i.Dc(15,Ct,2,2,"option",10),i.ec(16,"keyvalue"),i.Pb(),i.Dc(17,wt,2,0,"small",11),i.Pb(),i.Qb(18,"div",3),i.Qb(19,"label",12),i.Fc(20,"Company*"),i.Pb(),i.Qb(21,"select",13),i.Qb(22,"option",9),i.Fc(23,"Select a company "),i.Pb(),i.Dc(24,zt,2,2,"option",10),i.Pb(),i.Dc(25,Dt,2,0,"small",11),i.Pb(),i.Qb(26,"div",3),i.Qb(27,"label",14),i.Fc(28,"Type*"),i.Pb(),i.Qb(29,"select",15),i.Qb(30,"option",9),i.Fc(31,"Select expense type"),i.Pb(),i.Dc(32,It,2,2,"option",10),i.Pb(),i.Dc(33,Mt,2,0,"small",11),i.Pb(),i.Qb(34,"div",3),i.Qb(35,"label",16),i.Fc(36,"Explanation"),i.Pb(),i.Mb(37,"input",17),i.Dc(38,St,2,0,"small",11),i.Pb(),i.Qb(39,"div",3),i.Qb(40,"label",18),i.Fc(41,"Debit"),i.Pb(),i.Mb(42,"input",19),i.Dc(43,At,2,0,"small",11),i.Pb(),i.Qb(44,"div",20),i.Qb(45,"button",21),i.bc("mouseenter",function(){return e.mouseoverShifting=!0}),i.Fc(46,"Save"),i.Pb(),i.Qb(47,"button",22),i.bc("click",function(){return e.clear()}),i.Fc(48,"Clear"),i.Pb(),i.Pb(),i.Dc(49,Ot,2,1,"div",23),i.Pb()}2&t&&(i.zb(2),i.lc("ngIf",e.message.length),i.zb(1),i.lc("formGroup",e.form),i.zb(12),i.lc("ngForOf",i.fc(16,11,e.paymentMethods)),i.zb(2),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(7),i.lc("ngForOf",e.companyList),i.zb(1),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(7),i.lc("ngForOf",e.incomeList),i.zb(1),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(5),i.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),i.zb(5),i.lc("ngIf",e.form.controls.debit.errors&&e.form.controls.debit.touched),i.zb(6),i.lc("ngIf",e.mouseoverShifting))},directives:[a.q,P.x,P.n,P.g,bt.i,P.b,P.m,P.f,P.u,P.q,P.w,a.p],pipes:[a.k],styles:[""]}),t}(),Ht=["Advance","Air Balance","Agent Balance","Bus Balance","Bus Advance","Cancellation","Celebration","Food Advance","Hotel Advance","Investment","Office Rent","Office Cost","Petty Cash","Product Purchase","Refund","Service Charge","Ship Balance","Snacks","Stationary","Tour"],Bt=function(){return(Bt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Gt(t,e){if(1&t&&(i.Qb(0,"div",24),i.Fc(1),i.Pb()),2&t){var n=i.dc();i.zb(1),i.Hc(" ",n.message,"\n")}}function Et(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n.key),i.zb(1),i.Hc(" ",n.value," ")}}function qt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function Rt(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n),i.zb(1),i.Hc(" ",n," ")}}function _t(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function Nt(t,e){if(1&t&&(i.Qb(0,"option",25),i.Fc(1),i.Pb()),2&t){var n=e.$implicit;i.lc("value",n),i.zb(1),i.Hc(" ",n," ")}}function Tt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Expense type required"),i.Pb())}function jt(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Explanation required"),i.Pb())}function $t(t,e){1&t&&(i.Qb(0,"small",26),i.Fc(1,"Credit required"),i.Pb())}function Vt(t,e){if(1&t&&(i.Qb(0,"div",27),i.Fc(1),i.Pb()),2&t){var n=i.dc();i.zb(1),i.Hc(" ",n.getFormValidationErrors()," ")}}var Jt=function(){function t(t,e){this.builder=t,this.util=e,this.create=new i.n,this.expenseList=Ht,this.companyList=Qt.a,this.paymentMethods=Ft.b,this.mouseoverShifting=!1,this.message="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.createForm()},t.prototype.createForm=function(){this.form=this.builder.group({date:[this.date,P.v.required],explanation:["",P.v.required],company:["Hotelswave.com",P.v.required],type:["",P.v.required],paymentMethod:["CASH",P.v.required],debit:[0,P.v.required],credit:["",P.v.required]})},t.prototype.submit=function(){if(this.form.valid){var t=this.util.makeDateString(this.form.value.date),e=Bt(Bt({},this.form.value),{date:t});this.create.emit(e),this.clear()}},t.prototype.getFormValidationErrors=function(){var t=this,e="";return Object.keys(this.form.controls).forEach(function(n){var o=t.form.get(n).errors;null!=o&&Object.keys(o).forEach(function(t){e+=n+" : "+t+"; "})}),e},t.prototype.clear=function(){this.form.reset(),this.form.patchValue({date:this.date,credit:0}),this.message=""},t.\u0275fac=function(e){return new(e||t)(i.Lb(P.d),i.Lb(at.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["accounts-add-expense"]],outputs:{create:"create"},decls:50,vars:13,consts:[[1,"mr-auto","p-2",2,"background-color","#f8f9fa"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"mb-4",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["dd","ngbDatepicker"],["for","paymentMethod",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","paymentMethod","formControlName","paymentMethod",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["for","company",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","company","formControlName","company",1,"form-control","form-control-sm"],["for","type",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","type","formControlName","type",1,"form-control","form-control-sm"],["for","explanation",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","explanation","formControlName","explanation","placeholder","Explanation",1,"form-control","form-control-sm"],["for","credit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","credit","formControlName","credit","placeholder","Credit",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"value"],[1,"form-text","text-danger"],[1,"text-danger"]],template:function(t,e){if(1&t){var n=i.Rb();i.Qb(0,"h5",0),i.Fc(1,"Expense form"),i.Pb(),i.Dc(2,Gt,2,1,"div",1),i.Qb(3,"form",2),i.bc("ngSubmit",function(){return e.submit()})("mouseleave",function(){return e.mouseoverShifting=!1}),i.Qb(4,"div",3),i.Qb(5,"label",4),i.Fc(6,"Date*"),i.Pb(),i.Qb(7,"input",5,6),i.bc("click",function(){return i.wc(n),i.vc(8).toggle()}),i.Pb(),i.Pb(),i.Qb(9,"div",3),i.Qb(10,"label",7),i.Fc(11,"Payment Method*"),i.Pb(),i.Qb(12,"select",8),i.Qb(13,"option",9),i.Fc(14,"Select a Payment Method"),i.Pb(),i.Dc(15,Et,2,2,"option",10),i.ec(16,"keyvalue"),i.Pb(),i.Dc(17,qt,2,0,"small",11),i.Pb(),i.Qb(18,"div",3),i.Qb(19,"label",12),i.Fc(20,"Company*"),i.Pb(),i.Qb(21,"select",13),i.Qb(22,"option",9),i.Fc(23,"Select a company "),i.Pb(),i.Dc(24,Rt,2,2,"option",10),i.Pb(),i.Dc(25,_t,2,0,"small",11),i.Pb(),i.Qb(26,"div",3),i.Qb(27,"label",14),i.Fc(28,"Type*"),i.Pb(),i.Qb(29,"select",15),i.Qb(30,"option",9),i.Fc(31,"Select expense type"),i.Pb(),i.Dc(32,Nt,2,2,"option",10),i.Pb(),i.Dc(33,Tt,2,0,"small",11),i.Pb(),i.Qb(34,"div",3),i.Qb(35,"label",16),i.Fc(36,"Explanation"),i.Pb(),i.Mb(37,"input",17),i.Dc(38,jt,2,0,"small",11),i.Pb(),i.Qb(39,"div",3),i.Qb(40,"label",18),i.Fc(41,"Credit"),i.Pb(),i.Mb(42,"input",19),i.Dc(43,$t,2,0,"small",11),i.Pb(),i.Qb(44,"div",20),i.Qb(45,"button",21),i.bc("mouseenter",function(){return e.mouseoverShifting=!0}),i.Fc(46,"Save"),i.Pb(),i.Qb(47,"button",22),i.bc("click",function(){return e.clear()}),i.Fc(48,"Clear"),i.Pb(),i.Pb(),i.Dc(49,Vt,2,1,"div",23),i.Pb()}2&t&&(i.zb(2),i.lc("ngIf",e.message.length),i.zb(1),i.lc("formGroup",e.form),i.zb(12),i.lc("ngForOf",i.fc(16,11,e.paymentMethods)),i.zb(2),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(7),i.lc("ngForOf",e.companyList),i.zb(1),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(7),i.lc("ngForOf",e.expenseList),i.zb(1),i.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),i.zb(5),i.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),i.zb(5),i.lc("ngIf",e.form.controls.credit.errors&&e.form.controls.credit.touched),i.zb(6),i.lc("ngIf",e.mouseoverShifting))},directives:[a.q,P.x,P.n,P.g,bt.i,P.b,P.m,P.f,P.u,P.q,P.w,a.p],pipes:[a.k],styles:[""]}),t}(),Ut=function(t,e,n,o){return new(n||(n=Promise))(function(r,c){function i(t){try{b(o.next(t))}catch(e){c(e)}}function a(t){try{b(o.throw(t))}catch(e){c(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}b((o=o.apply(t,e||[])).next())})},Yt=function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function Kt(t,e){if(1&t){var n=i.Rb();i.Ob(0),i.Qb(1,"accounts-add-income",19),i.bc("create",function(t){return i.wc(n),i.dc().onCreateIncome(t)}),i.Pb(),i.Nb()}}function Wt(t,e){if(1&t){var n=i.Rb();i.Ob(0),i.Qb(1,"accounts-add-expense",19),i.bc("create",function(t){return i.wc(n),i.dc().onCreateExpense(t)}),i.Pb(),i.Nb()}}function Xt(t,e){if(1&t&&(i.Qb(0,"tr",20),i.Qb(1,"td"),i.Fc(2),i.Pb(),i.Qb(3,"td"),i.Fc(4),i.Pb(),i.Qb(5,"td"),i.Fc(6),i.Pb(),i.Qb(7,"td"),i.Fc(8),i.Pb(),i.Qb(9,"td"),i.Fc(10),i.Pb(),i.Qb(11,"td"),i.Fc(12),i.Pb(),i.Pb()),2&t){var n=e.$implicit;i.zb(2),i.Gc(n.date),i.zb(2),i.Gc(n.company),i.zb(2),i.Gc(n.type),i.zb(2),i.Gc(n.explanation),i.zb(2),i.Gc(n.debit),i.zb(2),i.Gc(n.credit)}}function Zt(t,e){if(1&t){var n=i.Rb();i.Qb(0,"pagination",21),i.bc("getPage",function(t){return i.wc(n),i.dc().getAccountsCashbook(t)}),i.Pb()}if(2&t){var o=i.dc();i.lc("page",o.accountsCashbookPage)}}var te=[{path:"cashbook",component:d},{path:"hotel-ledger",component:g},{path:"add-income",component:A},{path:"add-expense",component:O},{path:"pay-hotel",component:_},{path:"agent-balance",component:ot},{path:"counter-money",component:vt},{path:"accounts-cashbook",component:function(){function t(t){this.accountsService=t,this.errorMessage="",this.loading=!1,this.mode="income"}return t.prototype.ngOnInit=function(){this.getAccountsCashbook(0)},t.prototype.getAccountsCashbook=function(t){return Ut(this,void 0,void 0,function(){var e,n;return Yt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.loading=!0,e=this,[4,this.accountsService.getAccountsCashbookPage(t).toPromise()];case 1:return e.accountsCashbookPage=o.sent(),this.accountsCashbook=this.accountsCashbookPage.content[this.accountsCashbookPage.content.length-1],this.loading=!1,[3,3];case 2:return n=o.sent(),console.log(n),this.errorMessage=n,[3,3];case 3:return[2]}})})},t.prototype.onMode=function(t){this.mode=t},t.prototype.onCreateExpense=function(t){return Ut(this,void 0,void 0,function(){var e;return Yt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.accountsService.addAccountsExpense(t).toPromise()];case 1:return n.sent(),this.getAccountsCashbook(0),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}})})},t.prototype.onCreateIncome=function(t){return Ut(this,void 0,void 0,function(){var e;return Yt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.accountsService.addAccountsIncome(t).toPromise()];case 1:return n.sent(),this.getAccountsCashbook(0),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}})})},t.\u0275fac=function(e){return new(e||t)(i.Lb(rt.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-accounts-cashbook"]],decls:82,vars:13,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"shadow-sm","bg-white","p-3","rounded-lg"],["role","group","aria-label","Basic example",1,"btn-group","mb-1"],["type","button",1,"btn","btn-sm",3,"ngClass","click"],[4,"ngIf"],[1,"col-md-8","pl-0"],[1,"table","table-sm","table-hover","table-bordered","table-responsive-sm"],[2,"background-color","#f8f9fa"],["colspan","7"],[1,"mr-auto"],["class","user-row",4,"ngFor","ngForOf"],[3,"page","getPage",4,"ngIf"],[1,"table","table-bordered","table-sm"],["colspan","8"],[1,"text-right"],[3,"create"],[1,"user-row"],[3,"page","getPage"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Fc(2,"Accounts Cashbook"),i.Pb(),i.Pb(),i.Qb(3,"div",2),i.Qb(4,"div",3),i.Qb(5,"div",4),i.Qb(6,"div",5),i.Qb(7,"div",6),i.Qb(8,"button",7),i.bc("click",function(){return e.onMode("income")}),i.Fc(9,"Add Income"),i.Pb(),i.Qb(10,"button",7),i.bc("click",function(){return e.onMode("expense")}),i.Fc(11,"Add Expense"),i.Pb(),i.Pb(),i.Dc(12,Kt,2,0,"ng-container",8),i.Dc(13,Wt,2,0,"ng-container",8),i.Pb(),i.Pb(),i.Qb(14,"div",9),i.Qb(15,"div",5),i.Qb(16,"table",10),i.Qb(17,"thead"),i.Qb(18,"tr",11),i.Qb(19,"td",12),i.Qb(20,"h5",13),i.Fc(21,"Cashbook"),i.Pb(),i.Pb(),i.Pb(),i.Qb(22,"tr"),i.Qb(23,"th"),i.Fc(24,"Date"),i.Pb(),i.Qb(25,"th"),i.Fc(26,"Company"),i.Pb(),i.Qb(27,"th"),i.Fc(28,"Type"),i.Pb(),i.Qb(29,"th"),i.Fc(30,"Explanation"),i.Pb(),i.Qb(31,"th"),i.Fc(32,"Debit"),i.Pb(),i.Qb(33,"th"),i.Fc(34,"Credit"),i.Pb(),i.Pb(),i.Pb(),i.Qb(35,"tbody"),i.Dc(36,Xt,13,6,"tr",14),i.Pb(),i.Qb(37,"tfoot"),i.Qb(38,"tr"),i.Qb(39,"td",12),i.Dc(40,Zt,1,1,"pagination",15),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(41,"table",16),i.Qb(42,"thead"),i.Qb(43,"tr",11),i.Qb(44,"td",17),i.Qb(45,"h5",13),i.Fc(46,"Last Balance Status"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(47,"tbody",18),i.Qb(48,"tr"),i.Qb(49,"th"),i.Fc(50,"Method"),i.Pb(),i.Qb(51,"td"),i.Fc(52,"Cash"),i.Pb(),i.Qb(53,"td"),i.Fc(54,"BKash"),i.Pb(),i.Qb(55,"td"),i.Fc(56,"Roket"),i.Pb(),i.Qb(57,"td"),i.Fc(58,"Nagad"),i.Pb(),i.Qb(59,"td"),i.Fc(60,"SSL"),i.Pb(),i.Qb(61,"td"),i.Fc(62,"Bank Transfer"),i.Pb(),i.Qb(63,"td"),i.Fc(64,"Other"),i.Pb(),i.Pb(),i.Qb(65,"tr"),i.Qb(66,"th"),i.Fc(67,"Amount"),i.Pb(),i.Qb(68,"td"),i.Fc(69),i.Pb(),i.Qb(70,"td"),i.Fc(71),i.Pb(),i.Qb(72,"td"),i.Fc(73),i.Pb(),i.Qb(74,"td"),i.Fc(75),i.Pb(),i.Qb(76,"td"),i.Fc(77),i.Pb(),i.Qb(78,"td"),i.Fc(79),i.Pb(),i.Qb(80,"td"),i.Fc(81),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(8),i.lc("ngClass","income"==e.mode?"btn-primary":"btn-light"),i.zb(2),i.lc("ngClass","expense"==e.mode?"btn-primary":"btn-light"),i.zb(2),i.lc("ngIf","income"==e.mode),i.zb(1),i.lc("ngIf","expense"==e.mode),i.zb(23),i.lc("ngForOf",null==e.accountsCashbookPage?null:e.accountsCashbookPage.content),i.zb(4),i.lc("ngIf",null!=e.accountsCashbookPage),i.zb(29),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceCash),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceBkash),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceRocket),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceNagad),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceSsl),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceBankTransfer),i.zb(2),i.Gc(null==e.accountsCashbook?null:e.accountsCashbook.balanceOther))},directives:[a.o,a.q,a.p,Lt,Jt,b.a],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}[_nghost-%COMP%]{background-color:#f0f2f5;display:block;min-height:calc(100vh - 59px)}"]}),t}()}],ee=function(){function t(){}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[r.a,o.e.forChild(te)]]}),t}()}}]);