(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{HYtE:function(t,n,e){"use strict";e.r(n),e.d(n,"ROUTES",function(){return E}),e.d(n,"FlightModule",function(){return y});var c=e("tyNb"),i=e("GtaJ"),b=(e("gw5A"),e("fXoL")),a=e("ofXK"),o=e("HF3I"),s=e("uEz7"),r=function(t,n,e,c){return new(e||(e=Promise))(function(i,b){function a(t){try{s(c.next(t))}catch(n){b(n)}}function o(t){try{s(c.throw(t))}catch(n){b(n)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(a,o)}s((c=c.apply(t,n||[])).next())})},l=function(t,n){var e,c,i,b,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return b={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function o(b){return function(o){return function(b){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,c&&(i=2&b[0]?c.return:b[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,b[1])).done)return i;switch(c=0,i&&(b=[2&b[0],i.value]),b[0]){case 0:case 1:i=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,c=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==b[0]&&2!==b[0])){a=0;continue}if(3===b[0]&&(!i||b[1]>i[0]&&b[1]<i[3])){a.label=b[1];break}if(6===b[0]&&a.label<i[1]){a.label=i[1],i=b;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(b);break}i[2]&&a.ops.pop(),a.trys.pop();continue}b=n.call(t,a)}catch(o){b=[6,o],c=0}finally{e=i=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,o])}}};function u(t,n){1&t&&b.Pb(0,"loading")}function g(t,n){if(1&t){var e=b.Ub();b.Tb(0,"button",25),b.ec("click",function(){b.zc(e);var t=b.gc().$implicit;return b.gc(2).onChangeStatus(t.id,"CONFIRMED")}),b.Gc(1,"CONFIRMED"),b.Sb()}}function f(t,n){if(1&t){var e=b.Ub();b.Tb(0,"button",26),b.ec("click",function(){b.zc(e);var t=b.gc().$implicit;return b.gc(2).onChangeStatus(t.id,"CONTACTED")}),b.Gc(1,"CONTACTED"),b.Sb()}}function d(t,n){if(1&t){var e=b.Ub();b.Tb(0,"button",27),b.ec("click",function(){b.zc(e);var t=b.gc().$implicit;return b.gc(2).onChangeStatus(t.id,"CANCELED")}),b.Gc(1,"CANCELED"),b.Sb()}}var T=function(t,n,e,c){return{"bg-info":t,"bg-success":n,"bg-primary":e,"bg-danger":c}};function h(t,n){if(1&t&&(b.Tb(0,"div",13),b.Tb(1,"div",14),b.Gc(2),b.Tb(3,"span",15),b.Gc(4),b.hc(5,"date"),b.Sb(),b.Sb(),b.Tb(6,"div",16),b.Gc(7),b.Sb(),b.Tb(8,"div",17),b.Tb(9,"h3"),b.Gc(10,"Flight Info"),b.Sb(),b.Tb(11,"table",18),b.Tb(12,"tbody"),b.Tb(13,"tr"),b.Tb(14,"td"),b.Gc(15,"Depart from"),b.Sb(),b.Tb(16,"td"),b.Gc(17),b.Sb(),b.Sb(),b.Tb(18,"tr"),b.Tb(19,"td"),b.Gc(20,"Destination to"),b.Sb(),b.Tb(21,"td"),b.Gc(22),b.Sb(),b.Sb(),b.Tb(23,"tr"),b.Tb(24,"td"),b.Gc(25,"Depart Date"),b.Sb(),b.Tb(26,"td"),b.Gc(27),b.hc(28,"date"),b.Sb(),b.Sb(),b.Tb(29,"tr"),b.Tb(30,"td"),b.Gc(31,"Return Date"),b.Sb(),b.Tb(32,"td"),b.Gc(33),b.hc(34,"date"),b.Sb(),b.Sb(),b.Tb(35,"tr"),b.Tb(36,"td"),b.Gc(37,"Flight Class"),b.Sb(),b.Tb(38,"td"),b.Gc(39),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(40,"div",17),b.Tb(41,"h3"),b.Gc(42,"Passenger Info"),b.Sb(),b.Tb(43,"table",19),b.Tb(44,"tbody"),b.Tb(45,"tr"),b.Tb(46,"td"),b.Gc(47,"Number of Adult"),b.Sb(),b.Tb(48,"td"),b.Gc(49),b.Sb(),b.Sb(),b.Tb(50,"tr"),b.Tb(51,"td"),b.Gc(52,"Number of Children"),b.Sb(),b.Tb(53,"td"),b.Gc(54),b.Sb(),b.Sb(),b.Tb(55,"tr"),b.Tb(56,"td"),b.Gc(57,"Name"),b.Sb(),b.Tb(58,"td"),b.Gc(59),b.Sb(),b.Sb(),b.Tb(60,"tr"),b.Tb(61,"td"),b.Gc(62,"Phone Number"),b.Sb(),b.Tb(63,"td",20),b.Tb(64,"strong"),b.Gc(65),b.hc(66,"slice"),b.hc(67,"slice"),b.hc(68,"slice"),b.Sb(),b.Sb(),b.Sb(),b.Tb(69,"tr"),b.Tb(70,"td"),b.Gc(71,"Email"),b.Sb(),b.Tb(72,"td"),b.Gc(73),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(74,"div",21),b.Ec(75,g,2,0,"button",22),b.Ec(76,f,2,0,"button",23),b.Ec(77,d,2,0,"button",24),b.Sb(),b.Sb(),b.Sb()),2&t){var e=n.$implicit;b.Bb(1),b.oc("ngClass",b.vc(39,T,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.Bb(1),b.Ic(" Order ID : ",e.id," "),b.Bb(2),b.Hc(b.jc(5,20,e.created,"medium")),b.Bb(2),b.oc("ngClass",b.vc(44,T,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.Bb(1),b.Ic(" Status : ",e.status," "),b.Bb(10),b.Hc(e.depart),b.Bb(5),b.Hc(e.destination),b.Bb(5),b.Hc(b.ic(28,23,e.departDate)),b.Bb(6),b.Hc(b.ic(34,25,e.returnDate)),b.Bb(6),b.Hc(e.flightClass),b.Bb(10),b.Hc(e.numberOfAdult),b.Bb(5),b.Hc(e.numberOfChildren),b.Bb(5),b.Hc(null==e||null==e.user?null:e.user.name),b.Bb(6),b.Kc("",b.kc(66,27,null==e||null==e.user?null:e.user.phoneNumber,0,5),"-",b.kc(67,31,null==e||null==e.user?null:e.user.phoneNumber,5,8)," ",b.kc(68,35,null==e||null==e.user?null:e.user.phoneNumber,8,11),""),b.Bb(8),b.Hc(null==e||null==e.user?null:e.user.email),b.Bb(2),b.oc("ngIf","CONTACTED"==e.status),b.Bb(1),b.oc("ngIf","CREATED"==e.status),b.Bb(1),b.oc("ngIf","CREATED"==e.status||"CONTACTED"==e.status)}}function S(t,n){if(1&t&&(b.Rb(0),b.Ec(1,h,78,49,"div",12),b.Qb()),2&t){var e=b.gc();b.Bb(1),b.oc("ngForOf",null==e.flightPage?null:e.flightPage.content)}}function p(t,n){if(1&t){var e=b.Ub();b.Tb(0,"pagination",28),b.ec("getPage",function(t){b.zc(e);var n=b.gc();return n.getFlightsByStatus(n.status,t)}),b.Sb()}if(2&t){var c=b.gc();b.oc("page",c.flightPage)}}var C=function(t){return{active:t}},m=function(){function t(t){this.flightService=t,this.status=null,this.loading=!1}return t.prototype.ngOnInit=function(){this.getFlightsByStatus(this.status)},t.prototype.getFlightsByStatus=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),r(this,void 0,void 0,function(){var e=this;return l(this,function(c){switch(c.label){case 0:return this.loading=!0,this.status=t,[4,this.flightService.getAllFlightBooking(t,n).subscribe(function(t){e.loading=!1,e.flightPage=t})];case 1:return c.sent(),[2]}})})},t.prototype.onChangeStatus=function(t,n){return r(this,void 0,void 0,function(){var e=this;return l(this,function(c){switch(c.label){case 0:return confirm("Are you sure to change status of flight request id "+t+" to "+n)?(this.loading=!0,[4,this.flightService.updateFlightBookingStatus(t,n).subscribe(function(n){e.flightPage.content.splice(e.flightPage.content.findIndex(function(n){return n.id==t}),1,n),e.loading=!1})]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.\u0275fac=function(n){return new(n||t)(b.Ob(i.a))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-list"]],decls:30,vars:18,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-2"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"nav-item",3,"ngClass"],[1,"nav-link",3,"click"],[1,"col-md-10","pb-5"],[4,"ngIf"],[3,"page","getPage",4,"ngIf"],["class","row shadow-sm mx-0 my-3",4,"ngFor","ngForOf"],[1,"row","shadow-sm","mx-0","my-3"],[1,"col-6","text-white","p-2",3,"ngClass"],[1,"float-right"],[1,"col-6","text-right","text-monospace","text-white","p-2",3,"ngClass"],[1,"col-6"],[1,"table","border","table-striped"],[1,"table","border","table-striped","table-hover"],[1,"text-monospace"],[1,"d-flex","justify-content-end","pb-3"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-info mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"btn","btn-sm","btn-info","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[3,"page","getPage"]],template:function(t,n){1&t&&(b.Tb(0,"div",0),b.Tb(1,"span",1),b.Gc(2,"Flight List"),b.Sb(),b.Sb(),b.Tb(3,"div",0),b.Tb(4,"div",2),b.Tb(5,"div",3),b.Tb(6,"nav",4),b.Tb(7,"div",5),b.Tb(8,"h3"),b.Gc(9,"Flight status list"),b.Sb(),b.Sb(),b.Tb(10,"ul",6),b.Tb(11,"li",7),b.Tb(12,"a",8),b.ec("click",function(){return n.getFlightsByStatus()}),b.Gc(13,"ALL"),b.Sb(),b.Sb(),b.Tb(14,"li",7),b.Tb(15,"a",8),b.ec("click",function(){return n.getFlightsByStatus("CREATED")}),b.Gc(16," CREATED "),b.Sb(),b.Sb(),b.Tb(17,"li",7),b.Tb(18,"a",8),b.ec("click",function(){return n.getFlightsByStatus("CONTACTED")}),b.Gc(19," CONTACTED "),b.Sb(),b.Sb(),b.Tb(20,"li",7),b.Tb(21,"a",8),b.ec("click",function(){return n.getFlightsByStatus("CONFIRMED")}),b.Gc(22," CONFIRMED "),b.Sb(),b.Sb(),b.Tb(23,"li",7),b.Tb(24,"a",8),b.ec("click",function(){return n.getFlightsByStatus("CANCELED")}),b.Gc(25," CANCELED "),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(26,"div",9),b.Ec(27,u,1,0,"loading",10),b.Ec(28,S,2,1,"ng-container",10),b.Ec(29,p,1,1,"pagination",11),b.Sb(),b.Sb(),b.Sb()),2&t&&(b.Bb(11),b.oc("ngClass",b.sc(8,C,null==n.status)),b.Bb(3),b.oc("ngClass",b.sc(10,C,"CREATED"==n.status)),b.Bb(3),b.oc("ngClass",b.sc(12,C,"CONTACTED"==n.status)),b.Bb(3),b.oc("ngClass",b.sc(14,C,"CONFIRMED"==n.status)),b.Bb(3),b.oc("ngClass",b.sc(16,C,"CANCELED"==n.status)),b.Bb(4),b.oc("ngIf",n.loading),b.Bb(1),b.oc("ngIf",!n.loading),b.Bb(1),b.oc("ngIf",(null==n.flightPage?null:n.flightPage.totalPages)>1))},directives:[a.n,a.p,o.a,a.o,s.a],pipes:[a.f,a.u],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:14px;font-family:Open Sans,sans-serif;list-style:none;background-color:#4acbd6;padding:3px 15px;margin-bottom:2px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#eee087}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f1d840;color:#333}"]}),t}(),v=e("KZX/"),E=[{path:"",component:m}],y=function(){function t(){}return t.\u0275mod=b.Mb({type:t}),t.\u0275inj=b.Lb({factory:function(n){return new(n||t)},imports:[[v.a,c.e.forChild(E)]]}),t}()}}]);