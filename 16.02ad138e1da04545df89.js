(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{HYtE:function(t,n,e){"use strict";e.r(n),e.d(n,"ROUTES",function(){return v}),e.d(n,"FlightModule",function(){return E});var c=e("iInd"),i=e("GtaJ"),b=(e("gw5A"),e("8Y7J")),a=e("SVse"),l=e("HF3I"),r=e("uEz7"),s=function(t,n,e,c){return new(e||(e=Promise))(function(i,b){function a(t){try{r(c.next(t))}catch(n){b(n)}}function l(t){try{r(c.throw(t))}catch(n){b(n)}}function r(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(a,l)}r((c=c.apply(t,n||[])).next())})},o=function(t,n){var e,c,i,b,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return b={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function l(b){return function(l){return function(b){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,c&&(i=2&b[0]?c.return:b[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,b[1])).done)return i;switch(c=0,i&&(b=[2&b[0],i.value]),b[0]){case 0:case 1:i=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,c=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==b[0]&&2!==b[0])){a=0;continue}if(3===b[0]&&(!i||b[1]>i[0]&&b[1]<i[3])){a.label=b[1];break}if(6===b[0]&&a.label<i[1]){a.label=i[1],i=b;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(b);break}i[2]&&a.ops.pop(),a.trys.pop();continue}b=n.call(t,a)}catch(l){b=[6,l],c=0}finally{e=i=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,l])}}};function u(t,n){1&t&&b.Mb(0,"loading")}function g(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",25),b.bc("click",function(){b.wc(e);var t=b.dc().$implicit;return b.dc(2).onChangeStatus(t.id,"CONFIRMED")}),b.Fc(1,"CONFIRMED"),b.Pb()}}function f(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",26),b.bc("click",function(){b.wc(e);var t=b.dc().$implicit;return b.dc(2).onChangeStatus(t.id,"CONTACTED")}),b.Fc(1,"CONTACTED"),b.Pb()}}function d(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",27),b.bc("click",function(){b.wc(e);var t=b.dc().$implicit;return b.dc(2).onChangeStatus(t.id,"CANCELED")}),b.Fc(1,"CANCELED"),b.Pb()}}var P=function(t,n,e,c){return{"bg-info":t,"bg-success":n,"bg-primary":e,"bg-danger":c}};function h(t,n){if(1&t&&(b.Qb(0,"div",13),b.Qb(1,"div",14),b.Fc(2),b.Qb(3,"span",15),b.Fc(4),b.ec(5,"date"),b.Pb(),b.Pb(),b.Qb(6,"div",16),b.Fc(7),b.Pb(),b.Qb(8,"div",17),b.Qb(9,"h3"),b.Fc(10,"Flight Info"),b.Pb(),b.Qb(11,"table",18),b.Qb(12,"tbody"),b.Qb(13,"tr"),b.Qb(14,"td"),b.Fc(15,"Depart from"),b.Pb(),b.Qb(16,"td"),b.Fc(17),b.Pb(),b.Pb(),b.Qb(18,"tr"),b.Qb(19,"td"),b.Fc(20,"Destination to"),b.Pb(),b.Qb(21,"td"),b.Fc(22),b.Pb(),b.Pb(),b.Qb(23,"tr"),b.Qb(24,"td"),b.Fc(25,"Depart Date"),b.Pb(),b.Qb(26,"td"),b.Fc(27),b.ec(28,"date"),b.Pb(),b.Pb(),b.Qb(29,"tr"),b.Qb(30,"td"),b.Fc(31,"Return Date"),b.Pb(),b.Qb(32,"td"),b.Fc(33),b.ec(34,"date"),b.Pb(),b.Pb(),b.Qb(35,"tr"),b.Qb(36,"td"),b.Fc(37,"Flight Class"),b.Pb(),b.Qb(38,"td"),b.Fc(39),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(40,"div",17),b.Qb(41,"h3"),b.Fc(42,"Passenger Info"),b.Pb(),b.Qb(43,"table",19),b.Qb(44,"tbody"),b.Qb(45,"tr"),b.Qb(46,"td"),b.Fc(47,"Number of Adult"),b.Pb(),b.Qb(48,"td"),b.Fc(49),b.Pb(),b.Pb(),b.Qb(50,"tr"),b.Qb(51,"td"),b.Fc(52,"Number of Children"),b.Pb(),b.Qb(53,"td"),b.Fc(54),b.Pb(),b.Pb(),b.Qb(55,"tr"),b.Qb(56,"td"),b.Fc(57,"Name"),b.Pb(),b.Qb(58,"td"),b.Fc(59),b.Pb(),b.Pb(),b.Qb(60,"tr"),b.Qb(61,"td"),b.Fc(62,"Phone Number"),b.Pb(),b.Qb(63,"td",20),b.Qb(64,"strong"),b.Fc(65),b.ec(66,"slice"),b.ec(67,"slice"),b.ec(68,"slice"),b.Pb(),b.Pb(),b.Pb(),b.Qb(69,"tr"),b.Qb(70,"td"),b.Fc(71,"Email"),b.Pb(),b.Qb(72,"td"),b.Fc(73),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(74,"div",21),b.Dc(75,g,2,0,"button",22),b.Dc(76,f,2,0,"button",23),b.Dc(77,d,2,0,"button",24),b.Pb(),b.Pb(),b.Pb()),2&t){var e=n.$implicit;b.zb(1),b.lc("ngClass",b.sc(39,P,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.zb(1),b.Hc(" Order ID : ",e.id," "),b.zb(2),b.Gc(b.gc(5,20,e.created,"medium")),b.zb(2),b.lc("ngClass",b.sc(44,P,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.zb(1),b.Hc(" Status : ",e.status," "),b.zb(10),b.Gc(e.depart),b.zb(5),b.Gc(e.destination),b.zb(5),b.Gc(b.fc(28,23,e.departDate)),b.zb(6),b.Gc(b.fc(34,25,e.returnDate)),b.zb(6),b.Gc(e.flightClass),b.zb(10),b.Gc(e.numberOfAdult),b.zb(5),b.Gc(e.numberOfChildren),b.zb(5),b.Gc(null==e||null==e.user?null:e.user.name),b.zb(6),b.Jc("",b.hc(66,27,null==e||null==e.user?null:e.user.phoneNumber,0,5),"-",b.hc(67,31,null==e||null==e.user?null:e.user.phoneNumber,5,8)," ",b.hc(68,35,null==e||null==e.user?null:e.user.phoneNumber,8,11),""),b.zb(8),b.Gc(null==e||null==e.user?null:e.user.email),b.zb(2),b.lc("ngIf","CONTACTED"==e.status),b.zb(1),b.lc("ngIf","CREATED"==e.status),b.zb(1),b.lc("ngIf","CREATED"==e.status||"CONTACTED"==e.status)}}function p(t,n){if(1&t&&(b.Ob(0),b.Dc(1,h,78,49,"div",12),b.Nb()),2&t){var e=b.dc();b.zb(1),b.lc("ngForOf",null==e.flightPage?null:e.flightPage.content)}}function C(t,n){if(1&t){var e=b.Rb();b.Qb(0,"pagination",28),b.bc("getPage",function(t){b.wc(e);var n=b.dc();return n.getFlightsByStatus(n.status,t)}),b.Pb()}if(2&t){var c=b.dc();b.lc("page",c.flightPage)}}var Q=function(t){return{active:t}},m=function(){function t(t){this.flightService=t,this.status=null,this.loading=!1}return t.prototype.ngOnInit=function(){this.getFlightsByStatus(this.status)},t.prototype.getFlightsByStatus=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),s(this,void 0,void 0,function(){var e=this;return o(this,function(c){switch(c.label){case 0:return this.loading=!0,this.status=t,[4,this.flightService.getAllFlightBooking(t,n).subscribe(function(t){e.loading=!1,e.flightPage=t})];case 1:return c.sent(),[2]}})})},t.prototype.onChangeStatus=function(t,n){return s(this,void 0,void 0,function(){var e=this;return o(this,function(c){switch(c.label){case 0:return confirm("Are you sure to change status of flight request id "+t+" to "+n)?(this.loading=!0,[4,this.flightService.updateFlightBookingStatus(t,n).subscribe(function(n){e.flightPage.content.splice(e.flightPage.content.findIndex(function(n){return n.id==t}),1,n),e.loading=!1})]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.\u0275fac=function(n){return new(n||t)(b.Lb(i.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-list"]],decls:30,vars:18,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-2"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"nav-item",3,"ngClass"],[1,"nav-link",3,"click"],[1,"col-md-10","pb-5"],[4,"ngIf"],[3,"page","getPage",4,"ngIf"],["class","row shadow-sm mx-0 my-3",4,"ngFor","ngForOf"],[1,"row","shadow-sm","mx-0","my-3"],[1,"col-6","text-white","p-2",3,"ngClass"],[1,"float-right"],[1,"col-6","text-right","text-monospace","text-white","p-2",3,"ngClass"],[1,"col-6"],[1,"table","border","table-striped"],[1,"table","border","table-striped","table-hover"],[1,"text-monospace"],[1,"d-flex","justify-content-end","pb-3"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-info mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"btn","btn-sm","btn-info","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[3,"page","getPage"]],template:function(t,n){1&t&&(b.Qb(0,"div",0),b.Qb(1,"span",1),b.Fc(2,"Flight List"),b.Pb(),b.Pb(),b.Qb(3,"div",0),b.Qb(4,"div",2),b.Qb(5,"div",3),b.Qb(6,"nav",4),b.Qb(7,"div",5),b.Qb(8,"h3"),b.Fc(9,"Flight status list"),b.Pb(),b.Pb(),b.Qb(10,"ul",6),b.Qb(11,"li",7),b.Qb(12,"a",8),b.bc("click",function(){return n.getFlightsByStatus()}),b.Fc(13,"ALL"),b.Pb(),b.Pb(),b.Qb(14,"li",7),b.Qb(15,"a",8),b.bc("click",function(){return n.getFlightsByStatus("CREATED")}),b.Fc(16," CREATED "),b.Pb(),b.Pb(),b.Qb(17,"li",7),b.Qb(18,"a",8),b.bc("click",function(){return n.getFlightsByStatus("CONTACTED")}),b.Fc(19," CONTACTED "),b.Pb(),b.Pb(),b.Qb(20,"li",7),b.Qb(21,"a",8),b.bc("click",function(){return n.getFlightsByStatus("CONFIRMED")}),b.Fc(22," CONFIRMED "),b.Pb(),b.Pb(),b.Qb(23,"li",7),b.Qb(24,"a",8),b.bc("click",function(){return n.getFlightsByStatus("CANCELED")}),b.Fc(25," CANCELED "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(26,"div",9),b.Dc(27,u,1,0,"loading",10),b.Dc(28,p,2,1,"ng-container",10),b.Dc(29,C,1,1,"pagination",11),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(11),b.lc("ngClass",b.pc(8,Q,null==n.status)),b.zb(3),b.lc("ngClass",b.pc(10,Q,"CREATED"==n.status)),b.zb(3),b.lc("ngClass",b.pc(12,Q,"CONTACTED"==n.status)),b.zb(3),b.lc("ngClass",b.pc(14,Q,"CONFIRMED"==n.status)),b.zb(3),b.lc("ngClass",b.pc(16,Q,"CANCELED"==n.status)),b.zb(4),b.lc("ngIf",n.loading),b.zb(1),b.lc("ngIf",!n.loading),b.zb(1),b.lc("ngIf",(null==n.flightPage?null:n.flightPage.totalPages)>1))},directives:[a.n,a.p,l.a,a.o,r.a],pipes:[a.f,a.v],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:14px;font-family:Open Sans,sans-serif;list-style:none;background-color:#4acbd6;padding:3px 15px;margin-bottom:2px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#eee087}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f1d840;color:#333}"]}),t}(),F=e("KZX/"),v=[{path:"",component:m}],E=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(n){return new(n||t)},imports:[[F.a,c.e.forChild(v)]]}),t}()}}]);