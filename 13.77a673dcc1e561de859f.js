(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"8jsf":function(t,e,n){"use strict";n.r(e),n.d(e,"ROUTES",function(){return jt}),n.d(e,"AdminAccountingModule",function(){return $t});var o=n("iInd"),r=n("3whx"),i=n("haEQ"),c=n("8Y7J"),a=n("SVse"),b=n("uEz7");function l(t,e){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.ec(3,"date"),c.Pb(),c.Qb(4,"td"),c.Fc(5),c.Pb(),c.Qb(6,"td"),c.Fc(7),c.Pb(),c.Qb(8,"td"),c.Fc(9),c.Pb(),c.Qb(10,"td",6),c.Fc(11),c.ec(12,"currency"),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(c.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),c.zb(3),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Hc(" ",c.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function s(t,e){if(1&t&&(c.Qb(0,"tbody"),c.Dc(1,l,13,13,"tr",10),c.Pb()),2&t){var n=c.dc();c.zb(1),c.lc("ngForOf",n.adminCashbook.content)}}function u(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",11),c.bc("getPage",function(t){return c.wc(n),c.dc().getAdminCashbook(t)}),c.Pb()}if(2&t){var o=c.dc();c.lc("page",o.adminCashbook)}}var d=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.\u0275fac=function(e){return new(e||t)(c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-admin-cashbook"]],decls:25,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"table","border"],[1,"text-right"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","getPage"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Admin cashbook"),c.Pb(),c.Pb(),c.Qb(3,"div",0),c.Qb(4,"div",2),c.Mb(5,"div",3),c.Qb(6,"div",4),c.Qb(7,"table",5),c.Qb(8,"thead"),c.Qb(9,"tr"),c.Qb(10,"th"),c.Fc(11,"Date"),c.Pb(),c.Qb(12,"th"),c.Fc(13,"Explanation"),c.Pb(),c.Qb(14,"th"),c.Fc(15,"Debit"),c.Pb(),c.Qb(16,"th"),c.Fc(17,"Credit"),c.Pb(),c.Qb(18,"th",6),c.Fc(19,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Dc(20,s,2,1,"tbody",7),c.Qb(21,"tfoot"),c.Qb(22,"tr"),c.Qb(23,"td",8),c.Dc(24,u,1,1,"pagination",9),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(20),c.lc("ngIf",e.adminCashbook),c.zb(4),c.lc("ngIf",null!=e.adminCashbook))},directives:[a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),f=n("/YPm");function m(t,e){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.ec(3,"date"),c.Pb(),c.Qb(4,"td"),c.Fc(5),c.Pb(),c.Qb(6,"td"),c.Fc(7),c.Pb(),c.Qb(8,"td"),c.Fc(9),c.Pb(),c.Qb(10,"td",8),c.Fc(11),c.ec(12,"currency"),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(c.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),c.zb(3),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Hc(" ",c.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function g(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",12),c.bc("getPage",function(t){c.wc(n);var e=c.dc(2);return e.getAdminHotelLedgerByHotelId(e.hotelId,t)}),c.Pb()}if(2&t){var o=c.dc(2);c.lc("page",o.adminHotelLedgerPage)}}function p(t,e){if(1&t&&(c.Qb(0,"table",7),c.Qb(1,"thead"),c.Qb(2,"tr"),c.Qb(3,"th"),c.Fc(4,"Date"),c.Pb(),c.Qb(5,"th"),c.Fc(6,"Explanation"),c.Pb(),c.Qb(7,"th"),c.Fc(8,"Debit"),c.Pb(),c.Qb(9,"th"),c.Fc(10,"Credit"),c.Pb(),c.Qb(11,"th",8),c.Fc(12,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Qb(13,"tbody"),c.Dc(14,m,13,13,"tr",9),c.Pb(),c.Qb(15,"tfoot"),c.Qb(16,"tr"),c.Qb(17,"td",10),c.Dc(18,g,1,1,"pagination",11),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t){var n=c.dc();c.zb(14),c.lc("ngForOf",n.adminHotelLedgerPage.content),c.zb(4),c.lc("ngIf",null!=n.adminHotelLedgerPage)}}var h=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){},t.prototype.onHotel=function(t){this.hotelId=t.id,this.getAdminHotelLedgerByHotelId(t.id)},t.prototype.getAdminHotelLedgerByHotelId=function(t,e){return void 0===e&&(e=0),n=this,void 0,r=function(){var n=this;return function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(o){switch(o.label){case 0:return[4,this.accountingService.getAdminHotelLedger(t,e).subscribe(function(t){n.adminHotelLedgerPage=t})];case 1:return o.sent(),[2]}})},new((o=void 0)||(o=Promise))(function(t,e){function i(t){try{a(r.next(t))}catch(n){e(n)}}function c(t){try{a(r.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o(function(t){t(n)})).then(i,c)}a((r=r.apply(n,[])).next())});var n,o,r},t.\u0275fac=function(e){return new(e||t)(c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-hotel-ledger"]],decls:9,vars:1,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row","m-0"],[1,"col-md-4","p-0"],[3,"hotel"],[1,"col-md-8","p-0","pl-md-2"],["class","table border",4,"ngIf"],[1,"table","border"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Hotel ledger"),c.Pb(),c.Pb(),c.Qb(3,"div",0),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"admin-hotel-list",4),c.bc("hotel",function(t){return e.onHotel(t)}),c.Pb(),c.Pb(),c.Qb(7,"div",5),c.Dc(8,p,19,2,"table",6),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(8),c.lc("ngIf",e.adminHotelLedgerPage))},directives:[f.a,a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),v=n("s7LF");function P(t,e){1&t&&(c.Qb(0,"small",12),c.Fc(1," Explanation required "),c.Pb())}function Q(t,e){1&t&&(c.Qb(0,"small",12),c.Fc(1," Debit required "),c.Pb())}function y(t,e){if(1&t&&(c.Qb(0,"div",3),c.Qb(1,"label",13),c.Fc(2,"Debit"),c.Pb(),c.Mb(3,"input",14),c.Dc(4,Q,2,0,"small",6),c.Pb()),2&t){var n=c.dc();c.zb(4),c.lc("ngIf",n.form.controls.debit.errors&&n.form.controls.debit.touched)}}function F(t,e){1&t&&(c.Qb(0,"small",12),c.Fc(1," Credit required "),c.Pb())}function x(t,e){if(1&t&&(c.Qb(0,"div",3),c.Qb(1,"label",15),c.Fc(2,"Credit"),c.Pb(),c.Mb(3,"input",16),c.Dc(4,F,2,0,"small",6),c.Pb()),2&t){var n=c.dc();c.zb(4),c.lc("ngIf",n.form.controls.credit.errors&&n.form.controls.credit.touched)}}function k(t,e){1&t&&(c.Qb(0,"a",17),c.Fc(1," Add income "),c.Pb())}function w(t,e){1&t&&(c.Qb(0,"a",18),c.Fc(1," Add expense "),c.Pb())}var C=function(t){return{disabled:t}},D=function(){function t(t){this.builder=t,this.value=new c.n,this.createForm()}return t.prototype.ngOnChanges=function(t){t.expenseForm&&this.form.patchValue(1==t.expenseForm.currentValue?{debit:0}:{credit:0})},t.prototype.createForm=function(){this.form=this.builder.group({explanation:["",v.v.required],debit:["",v.v.required],credit:["",v.v.required]})},t.prototype.submit=function(){this.form.valid&&(this.value.emit(this.form.value),this.form.reset())},t.\u0275fac=function(e){return new(e||t)(c.Lb(v.d))},t.\u0275cmp=c.Fb({type:t,selectors:[["admin-income-expense"]],inputs:{expenseForm:"expenseForm"},outputs:{value:"value"},features:[c.xb],decls:16,vars:10,consts:[[1,"container"],[1,"text-center"],[1,"border","p-3",3,"formGroup","ngSubmit"],[1,"form-group"],["for","explanation"],["id","explanation","formControlName","explanation",1,"form-control"],["class","text-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-income",4,"ngIf"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-expense",4,"ngIf"],["type","submit",1,"btn","btn-primary","mx-1",3,"ngClass"],[1,"text-danger"],["for","debit"],["type","number","id","debit","formControlName","debit",1,"form-control"],["for","credit"],["type","number","id","credit","formControlName","credit",1,"form-control"],["routerLink","/dashboard/admin/accountings/add-income",1,"btn","btn-success"],["routerLink","/dashboard/admin/accountings/add-expense",1,"btn","btn-success"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"h3",1),c.Fc(2),c.Pb(),c.Qb(3,"form",2),c.bc("ngSubmit",function(){return e.submit()}),c.Qb(4,"div",3),c.Qb(5,"label",4),c.Fc(6,"Explanation"),c.Pb(),c.Mb(7,"input",5),c.Dc(8,P,2,0,"small",6),c.Pb(),c.Dc(9,y,5,1,"div",7),c.Dc(10,x,5,1,"div",7),c.Qb(11,"div",8),c.Dc(12,k,2,0,"a",9),c.Dc(13,w,2,0,"a",10),c.Qb(14,"button",11),c.Fc(15," Submit "),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(2),c.Hc("",e.expenseForm?"Expense":"Income"," Form"),c.zb(1),c.lc("formGroup",e.form),c.zb(5),c.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),c.zb(1),c.lc("ngIf",!e.expenseForm),c.zb(1),c.lc("ngIf",e.expenseForm),c.zb(2),c.lc("ngIf",e.expenseForm),c.zb(1),c.lc("ngIf",!e.expenseForm),c.zb(1),c.lc("ngClass",c.pc(8,C,e.form.invalid)))},directives:[v.x,v.n,v.g,v.b,v.m,v.f,a.q,a.o,v.r,o.d],styles:[""]}),t}();function I(t,e){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.ec(3,"date"),c.Pb(),c.Qb(4,"td"),c.Fc(5),c.Pb(),c.Qb(6,"td"),c.Fc(7),c.Pb(),c.Qb(8,"td"),c.Fc(9),c.Pb(),c.Qb(10,"td",3),c.Fc(11),c.ec(12,"currency"),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(c.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),c.zb(3),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Hc(" ",c.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function z(t,e){if(1&t&&(c.Qb(0,"tbody"),c.Dc(1,I,13,13,"tr",7),c.Pb()),2&t){var n=c.dc();c.zb(1),c.lc("ngForOf",n.adminCashbook.content)}}function M(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",8),c.bc("getPage",function(t){return c.wc(n),c.dc().getServiceAdminCashbook(t)}),c.Pb()}if(2&t){var o=c.dc();c.lc("page",o.adminCashbook)}}var S=function(){function t(){this.page=new c.n}return t.prototype.getServiceAdminCashbook=function(t){this.page.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["admin-cashbook-comp"]],inputs:{adminCashbook:"adminCashbook"},outputs:{page:"page"},decls:21,vars:2,consts:[[1,"container-fluid"],[1,"text-center"],[1,"table","border"],[1,"text-right"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","getPage"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"h3",1),c.Fc(2,"Cashbook"),c.Pb(),c.Qb(3,"table",2),c.Qb(4,"thead"),c.Qb(5,"tr"),c.Qb(6,"th"),c.Fc(7,"Date"),c.Pb(),c.Qb(8,"th"),c.Fc(9,"Explanation"),c.Pb(),c.Qb(10,"th"),c.Fc(11,"Debit"),c.Pb(),c.Qb(12,"th"),c.Fc(13,"Credit"),c.Pb(),c.Qb(14,"th",3),c.Fc(15,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Dc(16,z,2,1,"tbody",4),c.Qb(17,"tfoot"),c.Qb(18,"tr"),c.Qb(19,"td",5),c.Dc(20,M,1,1,"pagination",6),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(16),c.lc("ngIf",e.adminCashbook),c.zb(4),c.lc("ngIf",null!=e.adminCashbook))},directives:[a.q,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.2rem}"],changeDetection:0}),t}(),O=function(){function t(t){this.accountingService=t,this.expenseForm=!1}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.prototype.onSubmit=function(t){var e=this;this.accountingService.addAdminIncome(t.debit,t.explanation).subscribe(function(t){console.log("Success"),e.getAdminCashbook()})},t.\u0275fac=function(e){return new(e||t)(c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-add-income"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbook","page"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Add income"),c.Pb(),c.Pb(),c.Qb(3,"div",0),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"admin-income-expense",4),c.bc("value",function(t){return e.onSubmit(t)}),c.Pb(),c.Pb(),c.Qb(7,"div",5),c.Qb(8,"admin-cashbook-comp",6),c.bc("page",function(t){return e.getAdminCashbook(t)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(6),c.lc("expenseForm",e.expenseForm),c.zb(2),c.lc("adminCashbook",e.adminCashbook))},directives:[D,S],styles:[""]}),t}(),A=function(){function t(t){this.accountingService=t,this.expenseForm=!0}return t.prototype.ngOnInit=function(){this.getAdminCashbook()},t.prototype.getAdminCashbook=function(t){var e=this;void 0===t&&(t=0),this.accountingService.getAdminCashbook(t).subscribe(function(t){e.adminCashbook=t})},t.prototype.onSubmit=function(t){var e=this;this.accountingService.addAdminExpense(t.credit,t.explanation).subscribe(function(t){console.log("Success"),e.getAdminCashbook()})},t.\u0275fac=function(e){return new(e||t)(c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-add-expense"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbook","page"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Add expense"),c.Pb(),c.Pb(),c.Qb(3,"div",0),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"admin-income-expense",4),c.bc("value",function(t){return e.onSubmit(t)}),c.Pb(),c.Pb(),c.Qb(7,"div",5),c.Qb(8,"admin-cashbook-comp",6),c.bc("page",function(t){return e.getAdminCashbook(t)}),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(6),c.lc("expenseForm",e.expenseForm),c.zb(2),c.lc("adminCashbook",e.adminCashbook))},directives:[D,S],styles:[""]}),t}();function L(t,e){1&t&&(c.Qb(0,"small",9),c.Fc(1," Amount required "),c.Pb())}var H=function(t){return{disabled:t}},B=function(){function t(t){this.builder=t,this.value=new c.n,this.createForm()}return t.prototype.ngOnChanges=function(t){t.hotelId&&this.form.patchValue({hotelId:this.hotelId})},t.prototype.createForm=function(){this.form=this.builder.group({hotelId:["",v.v.required],amount:["",v.v.required]})},t.prototype.submit=function(){this.form.valid&&(this.value.emit(this.form.value),this.form.reset())},t.\u0275fac=function(e){return new(e||t)(c.Lb(v.d))},t.\u0275cmp=c.Fb({type:t,selectors:[["pay-hotel-form"]],inputs:{hotelId:"hotelId"},outputs:{value:"value"},features:[c.xb],decls:12,vars:5,consts:[[1,"container"],[1,"text-center"],[1,"border","p-3",3,"formGroup","ngSubmit"],[1,"form-group"],["for","amount"],["type","number","id","amount","formControlName","amount",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["type","submit",1,"btn","btn-primary","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"h3",1),c.Fc(2,"Hotel Pay Form"),c.Pb(),c.Qb(3,"form",2),c.bc("ngSubmit",function(){return e.submit()}),c.Qb(4,"div",3),c.Qb(5,"label",4),c.Fc(6,"Amount"),c.Pb(),c.Mb(7,"input",5),c.Dc(8,L,2,0,"small",6),c.Pb(),c.Qb(9,"div",7),c.Qb(10,"button",8),c.Fc(11," Submit "),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(3),c.lc("formGroup",e.form),c.zb(5),c.lc("ngIf",e.form.controls.amount.errors&&e.form.controls.amount.touched),c.zb(2),c.lc("ngClass",c.pc(3,H,e.form.invalid)))},directives:[v.x,v.n,v.g,v.r,v.b,v.m,v.f,a.q,a.o],styles:[""]}),t}();function E(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",3),c.Qb(1,"pay-hotel-form",7),c.bc("value",function(t){return c.wc(n),c.dc().onSubmit(t)}),c.Pb(),c.Pb()}if(2&t){var o=c.dc();c.zb(1),c.lc("hotelId",o.hotelId)}}function G(t,e){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.ec(3,"date"),c.Pb(),c.Qb(4,"td"),c.Fc(5),c.Pb(),c.Qb(6,"td"),c.Fc(7),c.Pb(),c.Qb(8,"td"),c.Fc(9),c.Pb(),c.Qb(10,"td",11),c.Fc(11),c.ec(12,"currency"),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(c.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),c.zb(3),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Hc(" ",c.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function q(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",15),c.bc("getPage",function(t){c.wc(n);var e=c.dc(2);return e.getAdminHotelLedgerByHotelId(e.hotelId,t)}),c.Pb()}if(2&t){var o=c.dc(2);c.lc("page",o.adminHotelLedgerPage)}}function R(t,e){if(1&t&&(c.Qb(0,"div",8),c.Qb(1,"h3",9),c.Fc(2,"Hotel ledger"),c.Pb(),c.Qb(3,"table",10),c.Qb(4,"thead"),c.Qb(5,"tr"),c.Qb(6,"th"),c.Fc(7,"Date"),c.Pb(),c.Qb(8,"th"),c.Fc(9,"Explanation"),c.Pb(),c.Qb(10,"th"),c.Fc(11,"Debit"),c.Pb(),c.Qb(12,"th"),c.Fc(13,"Credit"),c.Pb(),c.Qb(14,"th",11),c.Fc(15,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Qb(16,"tbody"),c.Dc(17,G,13,13,"tr",12),c.Pb(),c.Qb(18,"tfoot"),c.Qb(19,"tr"),c.Qb(20,"td",13),c.Dc(21,q,1,1,"pagination",14),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t){var n=c.dc();c.zb(17),c.lc("ngForOf",n.adminHotelLedgerPage.content),c.zb(4),c.lc("ngIf",null!=n.adminHotelLedgerPage)}}var _=function(){function t(t){this.accountingService=t}return t.prototype.ngOnInit=function(){},t.prototype.onSelectHotel=function(t){this.hotelId=t.id,this.getAdminHotelLedgerByHotelId(t.id)},t.prototype.getAdminHotelLedgerByHotelId=function(t,e){return void 0===e&&(e=0),n=this,void 0,r=function(){var n=this;return function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(o){switch(o.label){case 0:return[4,this.accountingService.getAdminHotelLedger(t,e).subscribe(function(t){n.adminHotelLedgerPage=t})];case 1:return o.sent(),[2]}})},new((o=void 0)||(o=Promise))(function(t,e){function i(t){try{a(r.next(t))}catch(n){e(n)}}function c(t){try{a(r.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o(function(t){t(n)})).then(i,c)}a((r=r.apply(n,[])).next())});var n,o,r},t.prototype.onSubmit=function(t){var e=this,n=t.hotelId,o=t.amount;console.log(n,o),this.hotelId=null,this.adminHotelLedgerPage=null,this.accountingService.payToHotel(n,o).subscribe(function(t){e.getAdminHotelLedgerByHotelId(n)})},t.\u0275fac=function(e){return new(e||t)(c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-pay-to-hotel"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-3"],[3,"hotel"],["class","col-md-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],[3,"hotelId","value"],[1,"col-md-6"],[1,"text-center"],[1,"table","border"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Pay to hotel"),c.Pb(),c.Pb(),c.Qb(3,"div",0),c.Qb(4,"div",2),c.Qb(5,"div",3),c.Qb(6,"admin-hotel-list",4),c.bc("hotel",function(t){return e.onSelectHotel(t)}),c.Pb(),c.Pb(),c.Dc(7,E,2,1,"div",5),c.Dc(8,R,22,2,"div",6),c.Pb(),c.Pb()),2&t&&(c.zb(7),c.lc("ngIf",e.hotelId),c.zb(1),c.lc("ngIf",e.adminHotelLedgerPage))},directives:[f.a,a.q,B,a.p,b.a],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25rem}"]}),t}(),N=n("ITiG"),T=n("HF3I"),j=function(){return(j=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{b(o.next(t))}catch(e){i(e)}}function a(t){try{b(o.throw(t))}catch(e){i(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}b((o=o.apply(t,e||[])).next())})},V=function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function J(t,e){if(1&t){var n=c.Rb();c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.Pb(),c.Qb(3,"td"),c.Fc(4),c.Pb(),c.Qb(5,"td"),c.Fc(6),c.Pb(),c.Qb(7,"td"),c.Qb(8,"button",15),c.bc("click",function(){c.wc(n);var t=e.$implicit;return c.dc(2).onSelect(t.id)}),c.Mb(9,"i",16),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=e.$implicit;c.zb(2),c.Gc(o.name),c.zb(2),c.Gc(o.phoneNumber),c.zb(2),c.Gc(o.email)}}function U(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",10),c.Qb(1,"h3",6),c.Fc(2,"Agent list"),c.Pb(),c.Qb(3,"table",11),c.Qb(4,"thead"),c.Qb(5,"tr"),c.Qb(6,"th"),c.Fc(7,"Name"),c.Pb(),c.Qb(8,"th"),c.Fc(9,"Phone"),c.Pb(),c.Qb(10,"th"),c.Fc(11,"Email"),c.Pb(),c.Mb(12,"th"),c.Pb(),c.Pb(),c.Qb(13,"tbody"),c.Dc(14,J,10,3,"tr",12),c.Pb(),c.Qb(15,"tfoot"),c.Qb(16,"tr"),c.Qb(17,"td",13),c.Qb(18,"pagination",14),c.bc("getPage",function(t){return c.wc(n),c.dc().getUserPage(t)}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=c.dc();c.zb(14),c.lc("ngForOf",null==o.userPage?null:o.userPage.content),c.zb(4),c.lc("page",o.userPage)}}function Y(t,e){if(1&t&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.Fc(2),c.ec(3,"date"),c.Pb(),c.Qb(4,"td"),c.Fc(5),c.Pb(),c.Qb(6,"td"),c.Fc(7),c.Pb(),c.Qb(8,"td"),c.Fc(9),c.Pb(),c.Qb(10,"td",22),c.Fc(11),c.ec(12,"currency"),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(c.gc(3,5,n.date,"MMM d, y, h:mm:ss a")),c.zb(3),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Hc(" ",c.ic(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function W(t,e){if(1&t&&(c.Qb(0,"tbody"),c.Dc(1,Y,13,13,"tr",12),c.Pb()),2&t){var n=c.dc(2);c.zb(1),c.lc("ngForOf",n.adminAgentLedgerPage.content)}}function X(t,e){1&t&&(c.Qb(0,"tr"),c.Qb(1,"td",18),c.Mb(2,"loading"),c.Pb(),c.Pb())}function K(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",14),c.bc("getPage",function(t){c.wc(n);var e=c.dc(2);return e.getAgentLedger(null==e.user?null:e.user.id,t)}),c.Pb()}if(2&t){var o=c.dc(2);c.lc("page",o.adminAgentLedgerPage)}}function Z(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",10),c.Qb(1,"h3",6),c.Fc(2),c.Pb(),c.Qb(3,"table",11),c.Qb(4,"thead"),c.Qb(5,"tr"),c.Qb(6,"th"),c.Fc(7,"Date"),c.Pb(),c.Qb(8,"th"),c.Fc(9,"Explanation"),c.Pb(),c.Qb(10,"th"),c.Fc(11,"Debit"),c.Pb(),c.Qb(12,"th"),c.Fc(13,"Credit"),c.Pb(),c.Qb(14,"th"),c.Fc(15,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Dc(16,W,2,1,"tbody",17),c.Qb(17,"tfoot"),c.Dc(18,X,3,0,"tr",17),c.Qb(19,"tr"),c.Qb(20,"td",18),c.Dc(21,K,1,1,"pagination",19),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(22,"div",20),c.Qb(23,"button",21),c.bc("click",function(){return c.wc(n),c.dc().clear()}),c.Fc(24," Back to agent list "),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=c.dc();c.zb(2),c.Hc("",null==o.user?null:o.user.name," Ledger"),c.zb(14),c.lc("ngIf",o.adminAgentLedgerPage),c.zb(2),c.lc("ngIf",o.loading),c.zb(3),c.lc("ngIf",null!=o.adminAgentLedgerPage)}}function tt(t,e){if(1&t&&(c.Qb(0,"div",23),c.Fc(1),c.Pb()),2&t){var n=c.dc();c.zb(1),c.Hc(" ",n.message," ")}}function et(t,e){if(1&t){var n=c.Rb();c.Qb(0,"button",29),c.bc("click",function(){return c.wc(n),c.dc(2).addBalace()}),c.Fc(1," Add "),c.Pb()}}function nt(t,e){if(1&t){var n=c.Rb();c.Qb(0,"form",24),c.Qb(1,"div",25),c.Qb(2,"label"),c.Fc(3," Amount "),c.Pb(),c.Pb(),c.Qb(4,"div",26),c.Qb(5,"input",27),c.bc("ngModelChange",function(t){return c.wc(n),c.dc().amount=t}),c.Pb(),c.Pb(),c.Dc(6,et,2,0,"button",28),c.Pb()}if(2&t){var o=c.dc();c.zb(5),c.lc("ngModel",o.amount),c.zb(1),c.lc("ngIf",o.amount>0)}}var ot=function(){function t(t,e){this.userService=t,this.accountingService=e,this.amount=0,this.loading=!1,this.message=""}return t.prototype.ngOnInit=function(){this.getUserPage()},t.prototype.getUserPage=function(t){return void 0===t&&(t=0),$(this,void 0,void 0,function(){var e=this;return V(this,function(n){return this.loading=!0,this.userService.getAdminAgents(t).subscribe(function(t){e.userPage=t,e.loading=!0}),[2]})})},t.prototype.onSelect=function(t){var e=this.userPage.content.find(function(e){return e.id===t});this.user=j({},e),this.getAgentLedger(e.id)},t.prototype.getAgentLedger=function(t,e){return void 0===e&&(e=0),$(this,void 0,void 0,function(){var n=this;return V(this,function(o){return this.loading=!0,this.accountingService.getAdminAgentLedgerByAdmin(t,e).subscribe(function(t){n.adminAgentLedgerPage=t,n.loading=!1}),[2]})})},t.prototype.addBalace=function(){return $(this,void 0,void 0,function(){var t=this;return V(this,function(e){return confirm("Are you sure to add balance "+this.amount+" to "+this.user.name+" Account ")&&this.accountingService.addAdminAgentBalance(this.user.id,this.amount).subscribe(function(e){t.message="Amount added successfully",t.amount=0,t.getAgentLedger(t.user.id)}),[2]})})},t.prototype.clear=function(){this.message="",this.user=null},t.\u0275fac=function(e){return new(e||t)(c.Lb(N.a),c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-add-agent-balance"]],decls:13,vars:4,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],["class","col-md-8",4,"ngIf"],[1,"col-md-4"],[1,"text-center"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"d-flex","justify-content-center","my-5"],["class","form-inline",4,"ngIf"],[1,"col-md-8"],[1,"table","border"],[4,"ngFor","ngForOf"],["colspan","4"],[3,"page","getPage"],[1,"btn-sm","btn-warning",3,"click"],[1,"fa","fa-pencil-square-o"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"text-right"],["role","alert",1,"alert","alert-success"],[1,"form-inline"],[1,"form-group","mb-2"],[1,"form-group","mx-sm-3","mb-2"],["type","number","id","amount","name","amount",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-primary mb-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mb-2",3,"click"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Add agent balance"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Dc(5,U,19,2,"div",4),c.Dc(6,Z,25,4,"div",4),c.Qb(7,"div",5),c.Qb(8,"h3",6),c.Fc(9,"Add agent balance"),c.Pb(),c.Dc(10,tt,2,1,"div",7),c.Qb(11,"div",8),c.Dc(12,nt,7,2,"form",9),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(5),c.lc("ngIf",!e.user),c.zb(1),c.lc("ngIf",e.user),c.zb(4),c.lc("ngIf",e.message.length>0),c.zb(2),c.lc("ngIf",e.user))},directives:[a.q,a.p,b.a,T.a,v.x,v.n,v.o,v.r,v.b,v.m,v.p],pipes:[a.f,a.d],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}"]}),t}(),rt=n("+2eb"),it=n("s1VS"),ct=n("kU/X"),at=n("/e7+"),bt=n("G0yt"),lt=n("sMOk"),st=n("lWB2"),ut=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{b(o.next(t))}catch(e){i(e)}}function a(t){try{b(o.throw(t))}catch(e){i(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}b((o=o.apply(t,e||[])).next())})},dt=function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function ft(t,e){if(1&t){var n=c.Rb();c.Qb(0,"tr",27),c.bc("click",function(){c.wc(n);var t=e.$implicit,o=c.dc();return o.onSelectAgent(t.id,o.date)}),c.Qb(1,"td"),c.Fc(2),c.Pb(),c.Qb(3,"td"),c.Fc(4),c.Pb(),c.Pb()}if(2&t){var o=e.$implicit;c.zb(2),c.Gc(o.name),c.zb(2),c.Gc(o.phoneNumber)}}function mt(t,e){if(1&t&&(c.Qb(0,"div",12),c.Qb(1,"h5"),c.Fc(2),c.Pb(),c.Pb()),2&t){var n=c.dc();c.zb(2),c.Hc(" Counter : ",null==n.user?null:n.user.name,"")}}function gt(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",30),c.Qb(1,"manual-booking-list",31),c.bc("details",function(t){return c.wc(n),c.dc(2).onManualDetails(t)})("receive",function(t){c.wc(n);var e=c.dc(2);return e.onManualReceive(t,e.user,e.date)}),c.Pb(),c.Qb(2,"manual-booking-list",31),c.bc("details",function(t){return c.wc(n),c.dc(2).onBookingDetails(t)})("receive",function(t){c.wc(n);var e=c.dc(2);return e.onAutomaticReceive(t,e.user,e.date)}),c.Pb(),c.Pb()}if(2&t){var o=c.dc(2);c.zb(1),c.lc("manualBookingList",o.manualBookingList)("manual",!0)("admin",!0),c.zb(1),c.lc("manualBookingList",o.bookingList)("manual",!1)("admin",!0)}}function pt(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",32),c.Qb(1,"manual-booking-details",33),c.bc("clear",function(){return c.wc(n),c.dc(2).clear()}),c.Pb(),c.Pb()}if(2&t){var o=c.dc(2);c.zb(1),c.lc("manualBooking",o.manualBooking)}}function ht(t,e){if(1&t&&(c.Qb(0,"div",3),c.Dc(1,gt,3,6,"div",28),c.Dc(2,pt,2,1,"ng-template",null,29,c.Ec),c.Pb()),2&t){var n=c.vc(3),o=c.dc();c.zb(1),c.lc("ngIf",!o.manualBooking)("ngIfElse",n)}}function vt(t,e){1&t&&(c.Qb(0,"div",34),c.Mb(1,"i",35),c.Fc(2," Please select a counter first; "),c.Pb())}var Pt=function(){function t(t,e,n,o,r){this.userService=t,this.manualBookingService=e,this.accountsService=n,this.reportService=o,this.util=r,this.userList=[],this.manualBookingList=[],this.bookingList=[],this.loading=!1,this.errorMessage="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.getAgentList()},t.prototype.getAgentList=function(t){return void 0===t&&(t=0),ut(this,void 0,void 0,function(){var t,e;return dt(this,function(n){switch(n.label){case 0:this.loading=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.userService.getAdminUserByRole("Counter").toPromise()];case 2:return t.userList=n.sent(),this.loading=!1,[3,4];case 3:return e=n.sent(),this.errorMessage=e,this.loading=!1,console.log(e),[3,4];case 4:return[2]}})})},t.prototype.getCounterReportManual=function(t,e){return ut(this,void 0,void 0,function(){var n,o;return dt(this,function(r){switch(r.label){case 0:this.user=this.userList.find(function(e){return e.id==t}),r.label=1;case 1:return r.trys.push([1,3,,4]),this.manualBookingList=[],this.loading=!0,n=this,[4,this.manualBookingService.getForDayAndCreateBy(t,e).toPromise()];case 2:return n.manualBookingList=r.sent(),this.loading=!1,[3,4];case 3:return o=r.sent(),this.errorMessage=o,this.loading=!1,console.log(o),[3,4];case 4:return[2]}})})},t.prototype.getCounterReportHotel=function(t,e){return ut(this,void 0,void 0,function(){var n,o;return dt(this,function(r){switch(r.label){case 0:this.user=this.userList.find(function(e){return e.id==t}),r.label=1;case 1:return r.trys.push([1,3,,4]),this.loading=!0,n=this,[4,this.reportService.getForDayAndCreateBy(t,e).toPromise()];case 2:return n.bookingList=r.sent(),this.loading=!1,[3,4];case 3:return o=r.sent(),this.errorMessage=o,this.loading=!1,[3,4];case 4:return[2]}})})},t.prototype.onSelectAgent=function(t){this.getCounterReportManual(t,this.util.makeDateString(this.date)),this.getCounterReportHotel(t,this.util.makeDateString(this.date))},t.prototype.onBookingDetails=function(t){this.manualBooking=this.bookingList.find(function(e){return e.id==t})},t.prototype.onManualDetails=function(t){this.manualBooking=this.manualBookingList.find(function(e){return e.id==t})},t.prototype.adjustDay=function(t){var e=new Date(this.date.year,this.date.month-1,this.date.day+t);this.date=this.util.convertJsDateToNgbDate(e),this.user&&(this.getCounterReportManual(this.user.id,this.util.makeDateString(this.date)),this.getCounterReportHotel(this.user.id,this.util.makeDateString(this.date)))},t.prototype.onManualReceive=function(t,e,n){return ut(this,void 0,void 0,function(){var o;return dt(this,function(r){switch(r.label){case 0:if(!(t>0))return[3,4];if(!confirm("Are you sure to receive manual payments for "+this.user.name+", total amount = "+t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.accountsService.receiveCounterMoneyManual(e.id,this.util.makeDateString(n)).toPromise()];case 2:return r.sent(),this.getCounterReportManual(e.id,this.util.makeDateString(n)),this.getCounterReportHotel(e.id,this.util.makeDateString(n)),[3,4];case 3:return o=r.sent(),this.errorMessage=o,[3,4];case 4:return[2]}})})},t.prototype.onAutomaticReceive=function(t,e,n){return ut(this,void 0,void 0,function(){var o;return dt(this,function(r){switch(r.label){case 0:if(!(t>0))return[3,4];if(!confirm("Are you sure to receive automatic payments for "+this.user.name+", total amount = "+t))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.accountsService.receiveCounterMoneyAutomatic(e.id,this.util.makeDateString(n)).toPromise()];case 2:return r.sent(),this.getCounterReportManual(e.id,this.util.makeDateString(n)),this.getCounterReportHotel(e.id,this.util.makeDateString(n)),[3,4];case 3:return o=r.sent(),this.errorMessage=o,[3,4];case 4:return[2]}})})},t.prototype.clear=function(){this.manualBooking=null},t.\u0275fac=function(e){return new(e||t)(c.Lb(N.a),c.Lb(it.a),c.Lb(rt.a),c.Lb(ct.a),c.Lb(at.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-counter-money"]],decls:45,vars:5,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-3"],[1,"shadow-sm","bg-white","p-3","rounded-lg"],[1,"table","table-sm","table-hover","table-bordered"],[2,"background-color","#f8f9fa"],["colspan","2"],[1,"mr-auto"],["class","user-row",3,"click",4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"col-auto"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-chevron-left"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","click","ngModelChange","dateSelect"],["rDate","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],[1,"fa","fa-chevron-right"],["class","col-auto",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["noUserSelected",""],[1,"user-row",3,"click"],["class","col-12",4,"ngIf","ngIfElse"],["showBookingDetails",""],[1,"col-12"],[3,"manualBookingList","manual","admin","details","receive"],[1,"col-12","text-center"],[3,"manualBooking","clear"],[1,"text-center"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Receive Counter Money"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"table",6),c.Qb(8,"thead"),c.Qb(9,"tr",7),c.Qb(10,"td",8),c.Qb(11,"h5",9),c.Fc(12,"List of Coutner"),c.Pb(),c.Pb(),c.Pb(),c.Qb(13,"tr"),c.Qb(14,"th"),c.Fc(15,"Name"),c.Pb(),c.Qb(16,"th"),c.Fc(17,"Phone"),c.Pb(),c.Pb(),c.Pb(),c.Qb(18,"tbody"),c.Dc(19,ft,5,2,"tr",10),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"div",11),c.Qb(21,"div",5),c.Qb(22,"div",3),c.Qb(23,"div",12),c.Qb(24,"button",13),c.bc("click",function(){return e.adjustDay(-1)}),c.Mb(25,"i",14),c.Fc(26," Prev"),c.Pb(),c.Pb(),c.Qb(27,"div",12),c.Qb(28,"div",15),c.Qb(29,"div",16),c.Qb(30,"div",17),c.Fc(31,"Date"),c.Pb(),c.Pb(),c.Qb(32,"input",18,19),c.bc("click",function(){return c.wc(n),c.vc(33).toggle()})("ngModelChange",function(t){return e.date=t})("dateSelect",function(){return e.adjustDay(0)}),c.Pb(),c.Qb(34,"div",20),c.Qb(35,"button",21),c.bc("click",function(){return c.wc(n),c.vc(33).toggle()}),c.Mb(36,"i",22),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(37,"div",12),c.Qb(38,"button",13),c.bc("click",function(){return e.adjustDay(1)}),c.Fc(39," Next "),c.Mb(40,"i",23),c.Pb(),c.Pb(),c.Dc(41,mt,3,1,"div",24),c.Pb(),c.Dc(42,ht,4,2,"div",25),c.Dc(43,vt,3,0,"ng-template",null,26,c.Ec),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=c.vc(44);c.zb(19),c.lc("ngForOf",e.userList),c.zb(13),c.lc("ngModel",e.date),c.zb(9),c.lc("ngIf",e.user),c.zb(1),c.lc("ngIf",e.user)("ngIfElse",o)}},directives:[a.p,bt.i,v.b,v.m,v.p,a.q,lt.a,st.a],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}[_nghost-%COMP%]{background-color:#f0f2f5;display:block;min-height:calc(100vh - 59px)}.user-row[_ngcontent-%COMP%]{cursor:pointer}.form-head[_ngcontent-%COMP%]{width:inherit;font-size:20px!important;line-height:22px;padding:5px;background-color:#bdbdbd}.form-head-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;font-size:16px}"]}),t}(),Qt=["Manual","Automatic","Hotel","Ship","Other"],yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Ft(t,e){if(1&t&&(c.Qb(0,"div",20),c.Fc(1),c.Pb()),2&t){var n=c.dc();c.zb(1),c.Hc(" ",n.message,"\n")}}function xt(t,e){if(1&t&&(c.Qb(0,"option",21),c.Fc(1),c.Pb()),2&t){var n=e.$implicit;c.lc("value",n),c.zb(1),c.Hc(" ",n," ")}}function kt(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Expense type required"),c.Pb())}function wt(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Explanation required"),c.Pb())}function Ct(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Debit required"),c.Pb())}function Dt(t,e){if(1&t&&(c.Qb(0,"div",23),c.Fc(1),c.Pb()),2&t){var n=c.dc();c.zb(1),c.Hc(" ",n.getFormValidationErrors()," ")}}var It=function(){function t(t,e){this.builder=t,this.util=e,this.create=new c.n,this.incomeList=Qt,this.mouseoverShifting=!1,this.message="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.createForm()},t.prototype.createForm=function(){this.form=this.builder.group({date:[this.date,v.v.required],explanation:["",v.v.required],type:["",v.v.required],debit:["",v.v.required],credit:[0,v.v.required]})},t.prototype.submit=function(){if(this.form.valid){console.log(this.form.value);var t=this.util.makeDateString(this.form.value.date),e=yt(yt({},this.form.value),{date:t});this.create.emit(e),this.clear()}},t.prototype.getFormValidationErrors=function(){var t=this,e="";return Object.keys(this.form.controls).forEach(function(n){var o=t.form.get(n).errors;null!=o&&Object.keys(o).forEach(function(t){e+=n+" : "+t+"; "})}),e},t.prototype.clear=function(){this.form.reset(),this.form.patchValue({date:this.date,credit:0}),this.message=""},t.\u0275fac=function(e){return new(e||t)(c.Lb(v.d),c.Lb(at.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["accounts-add-income"]],outputs:{create:"create"},decls:33,vars:7,consts:[[1,"mr-auto","p-2",2,"background-color","#f8f9fa"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"mb-4",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["dd","ngbDatepicker"],["for","type",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","type","formControlName","type",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["for","explanation",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","explanation","formControlName","explanation","placeholder","Explanation",1,"form-control","form-control-sm"],["for","debit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","debit","formControlName","debit","placeholder","Debit",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"value"],[1,"form-text","text-danger"],[1,"text-danger"]],template:function(t,e){if(1&t){var n=c.Rb();c.Qb(0,"h5",0),c.Fc(1,"Income form"),c.Pb(),c.Dc(2,Ft,2,1,"div",1),c.Qb(3,"form",2),c.bc("ngSubmit",function(){return e.submit()})("mouseleave",function(){return e.mouseoverShifting=!1}),c.Qb(4,"div",3),c.Qb(5,"label",4),c.Fc(6,"Date*"),c.Pb(),c.Qb(7,"input",5,6),c.bc("click",function(){return c.wc(n),c.vc(8).toggle()}),c.Pb(),c.Pb(),c.Qb(9,"div",3),c.Qb(10,"label",7),c.Fc(11,"Type*"),c.Pb(),c.Qb(12,"select",8),c.Qb(13,"option",9),c.Fc(14,"Select expense type"),c.Pb(),c.Dc(15,xt,2,2,"option",10),c.Pb(),c.Dc(16,kt,2,0,"small",11),c.Pb(),c.Qb(17,"div",3),c.Qb(18,"label",12),c.Fc(19,"Explanation"),c.Pb(),c.Mb(20,"input",13),c.Dc(21,wt,2,0,"small",11),c.Pb(),c.Qb(22,"div",3),c.Qb(23,"label",14),c.Fc(24,"Debit"),c.Pb(),c.Mb(25,"input",15),c.Dc(26,Ct,2,0,"small",11),c.Pb(),c.Qb(27,"div",16),c.Qb(28,"button",17),c.bc("mouseenter",function(){return e.mouseoverShifting=!0}),c.Fc(29,"Save"),c.Pb(),c.Qb(30,"button",18),c.bc("click",function(){return e.clear()}),c.Fc(31,"Clear"),c.Pb(),c.Pb(),c.Dc(32,Dt,2,1,"div",19),c.Pb()}2&t&&(c.zb(2),c.lc("ngIf",e.message.length),c.zb(1),c.lc("formGroup",e.form),c.zb(12),c.lc("ngForOf",e.incomeList),c.zb(1),c.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),c.zb(5),c.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),c.zb(5),c.lc("ngIf",e.form.controls.debit.errors&&e.form.controls.debit.touched),c.zb(6),c.lc("ngIf",e.mouseoverShifting))},directives:[a.q,v.x,v.n,v.g,bt.i,v.b,v.m,v.f,v.u,v.q,v.w,a.p],styles:[""]}),t}(),zt=["Advance","Bus balance","Celebration","Inventment","Office Rent","Petty Cash","Product Purchase","Refund","Ship balance","Snacks","Stationary"],Mt=function(){return(Mt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function St(t,e){if(1&t&&(c.Qb(0,"div",20),c.Fc(1),c.Pb()),2&t){var n=c.dc();c.zb(1),c.Hc(" ",n.message,"\n")}}function Ot(t,e){if(1&t&&(c.Qb(0,"option",21),c.Fc(1),c.Pb()),2&t){var n=e.$implicit;c.lc("value",n),c.zb(1),c.Hc(" ",n," ")}}function At(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Expense type required"),c.Pb())}function Lt(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Explanation required"),c.Pb())}function Ht(t,e){1&t&&(c.Qb(0,"small",22),c.Fc(1,"Credit required"),c.Pb())}function Bt(t,e){if(1&t&&(c.Qb(0,"div",23),c.Fc(1),c.Pb()),2&t){var n=c.dc();c.zb(1),c.Hc(" ",n.getFormValidationErrors()," ")}}var Et=function(){function t(t,e){this.builder=t,this.util=e,this.create=new c.n,this.expenseList=zt,this.mouseoverShifting=!1,this.message="",this.date=this.util.convertJsDateToNgbDate(new Date)}return t.prototype.ngOnInit=function(){this.createForm()},t.prototype.createForm=function(){this.form=this.builder.group({date:[this.date,v.v.required],explanation:["",v.v.required],type:["",v.v.required],debit:[0,v.v.required],credit:["",v.v.required]})},t.prototype.submit=function(){if(this.form.valid){console.log(this.form.value);var t=this.util.makeDateString(this.form.value.date),e=Mt(Mt({},this.form.value),{date:t});this.create.emit(e),this.clear()}},t.prototype.getFormValidationErrors=function(){var t=this,e="";return Object.keys(this.form.controls).forEach(function(n){var o=t.form.get(n).errors;null!=o&&Object.keys(o).forEach(function(t){e+=n+" : "+t+"; "})}),e},t.prototype.clear=function(){this.form.reset(),this.form.patchValue({date:this.date,credit:0}),this.message=""},t.\u0275fac=function(e){return new(e||t)(c.Lb(v.d),c.Lb(at.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["accounts-add-expense"]],outputs:{create:"create"},decls:33,vars:7,consts:[[1,"mr-auto","p-2",2,"background-color","#f8f9fa"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"mb-4",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["dd","ngbDatepicker"],["for","type",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","type","formControlName","type",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["for","explanation",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","explanation","formControlName","explanation","placeholder","Explanation",1,"form-control","form-control-sm"],["for","credit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","credit","formControlName","credit","placeholder","Credit",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"value"],[1,"form-text","text-danger"],[1,"text-danger"]],template:function(t,e){if(1&t){var n=c.Rb();c.Qb(0,"h5",0),c.Fc(1,"Expense form"),c.Pb(),c.Dc(2,St,2,1,"div",1),c.Qb(3,"form",2),c.bc("ngSubmit",function(){return e.submit()})("mouseleave",function(){return e.mouseoverShifting=!1}),c.Qb(4,"div",3),c.Qb(5,"label",4),c.Fc(6,"Date*"),c.Pb(),c.Qb(7,"input",5,6),c.bc("click",function(){return c.wc(n),c.vc(8).toggle()}),c.Pb(),c.Pb(),c.Qb(9,"div",3),c.Qb(10,"label",7),c.Fc(11,"Type*"),c.Pb(),c.Qb(12,"select",8),c.Qb(13,"option",9),c.Fc(14,"Select expense type"),c.Pb(),c.Dc(15,Ot,2,2,"option",10),c.Pb(),c.Dc(16,At,2,0,"small",11),c.Pb(),c.Qb(17,"div",3),c.Qb(18,"label",12),c.Fc(19,"Explanation"),c.Pb(),c.Mb(20,"input",13),c.Dc(21,Lt,2,0,"small",11),c.Pb(),c.Qb(22,"div",3),c.Qb(23,"label",14),c.Fc(24,"Credit"),c.Pb(),c.Mb(25,"input",15),c.Dc(26,Ht,2,0,"small",11),c.Pb(),c.Qb(27,"div",16),c.Qb(28,"button",17),c.bc("mouseenter",function(){return e.mouseoverShifting=!0}),c.Fc(29,"Save"),c.Pb(),c.Qb(30,"button",18),c.bc("click",function(){return e.clear()}),c.Fc(31,"Clear"),c.Pb(),c.Pb(),c.Dc(32,Bt,2,1,"div",19),c.Pb()}2&t&&(c.zb(2),c.lc("ngIf",e.message.length),c.zb(1),c.lc("formGroup",e.form),c.zb(12),c.lc("ngForOf",e.expenseList),c.zb(1),c.lc("ngIf",e.form.controls.type.errors&&e.form.controls.type.touched),c.zb(5),c.lc("ngIf",e.form.controls.explanation.errors&&e.form.controls.explanation.touched),c.zb(5),c.lc("ngIf",e.form.controls.credit.errors&&e.form.controls.credit.touched),c.zb(6),c.lc("ngIf",e.mouseoverShifting))},directives:[a.q,v.x,v.n,v.g,bt.i,v.b,v.m,v.f,v.u,v.q,v.w,a.p],styles:[""]}),t}(),Gt=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{b(o.next(t))}catch(e){i(e)}}function a(t){try{b(o.throw(t))}catch(e){i(e)}}function b(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}b((o=o.apply(t,e||[])).next())})},qt=function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Rt(t,e){if(1&t){var n=c.Rb();c.Ob(0),c.Qb(1,"accounts-add-income",16),c.bc("create",function(t){return c.wc(n),c.dc().onCreateIncome(t)}),c.Pb(),c.Nb()}}function _t(t,e){if(1&t){var n=c.Rb();c.Ob(0),c.Qb(1,"accounts-add-expense",16),c.bc("create",function(t){return c.wc(n),c.dc().onCreateExpense(t)}),c.Pb(),c.Nb()}}function Nt(t,e){if(1&t&&(c.Qb(0,"tr",17),c.Qb(1,"td"),c.Fc(2),c.Pb(),c.Qb(3,"td"),c.Fc(4),c.Pb(),c.Qb(5,"td"),c.Fc(6),c.Pb(),c.Qb(7,"td"),c.Fc(8),c.Pb(),c.Qb(9,"td"),c.Fc(10),c.Pb(),c.Qb(11,"td"),c.Fc(12),c.Pb(),c.Pb()),2&t){var n=e.$implicit;c.zb(2),c.Gc(n.date),c.zb(2),c.Gc(n.type),c.zb(2),c.Gc(n.explanation),c.zb(2),c.Gc(n.debit),c.zb(2),c.Gc(n.credit),c.zb(2),c.Gc(n.balance)}}function Tt(t,e){if(1&t){var n=c.Rb();c.Qb(0,"pagination",18),c.bc("getPage",function(t){return c.wc(n),c.dc().getAccountsCashbook(t)}),c.Pb()}if(2&t){var o=c.dc();c.lc("page",o.accountsCashbookPage)}}var jt=[{path:"cashbook",component:d},{path:"hotel-ledger",component:h},{path:"add-income",component:O},{path:"add-expense",component:A},{path:"pay-hotel",component:_},{path:"agent-balance",component:ot},{path:"counter-money",component:Pt},{path:"accounts-cashbook",component:function(){function t(t){this.accountsService=t,this.errorMessage="",this.loading=!1,this.mode="income"}return t.prototype.ngOnInit=function(){this.getAccountsCashbook(0)},t.prototype.getAccountsCashbook=function(t){return Gt(this,void 0,void 0,function(){var e,n;return qt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.loading=!0,e=this,[4,this.accountsService.getAccountsCashbookPage(t).toPromise()];case 1:return e.accountsCashbookPage=o.sent(),console.log(this.accountsCashbookPage),this.loading=!1,[3,3];case 2:return n=o.sent(),console.log(n),this.errorMessage=n,[3,3];case 3:return[2]}})})},t.prototype.onMode=function(t){this.mode=t},t.prototype.onCreateExpense=function(t){return Gt(this,void 0,void 0,function(){var e;return qt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.accountsService.addAccountsExpense(t).toPromise()];case 1:return n.sent(),this.getAccountsCashbook(0),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}})})},t.prototype.onCreateIncome=function(t){return Gt(this,void 0,void 0,function(){var e;return qt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.accountsService.addAccountsIncome(t).toPromise()];case 1:return n.sent(),this.getAccountsCashbook(0),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}})})},t.\u0275fac=function(e){return new(e||t)(c.Lb(rt.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-accounts-cashbook"]],decls:41,vars:6,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-5"],[1,"shadow-sm","bg-white","p-3","rounded-lg"],["role","group","aria-label","Basic example",1,"btn-group","mb-1"],["type","button",1,"btn","btn-sm",3,"ngClass","click"],[4,"ngIf"],[1,"col-md-7"],[1,"table","table-sm","table-hover","table-bordered","table-responsive-sm"],[2,"background-color","#f8f9fa"],["colspan","6"],[1,"mr-auto"],["class","user-row",4,"ngFor","ngForOf"],[3,"page","getPage",4,"ngIf"],[3,"create"],[1,"user-row"],[3,"page","getPage"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Fc(2,"Accounts Cashbook"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"div",6),c.Qb(8,"button",7),c.bc("click",function(){return e.onMode("income")}),c.Fc(9,"Add Income"),c.Pb(),c.Qb(10,"button",7),c.bc("click",function(){return e.onMode("expense")}),c.Fc(11,"Add Expense"),c.Pb(),c.Pb(),c.Dc(12,Rt,2,0,"ng-container",8),c.Dc(13,_t,2,0,"ng-container",8),c.Pb(),c.Pb(),c.Qb(14,"div",9),c.Qb(15,"div",5),c.Qb(16,"table",10),c.Qb(17,"thead"),c.Qb(18,"tr",11),c.Qb(19,"td",12),c.Qb(20,"h5",13),c.Fc(21,"Cashbook"),c.Pb(),c.Pb(),c.Pb(),c.Qb(22,"tr"),c.Qb(23,"th"),c.Fc(24,"Date"),c.Pb(),c.Qb(25,"th"),c.Fc(26,"Type"),c.Pb(),c.Qb(27,"th"),c.Fc(28,"Explanation"),c.Pb(),c.Qb(29,"th"),c.Fc(30,"Debit"),c.Pb(),c.Qb(31,"th"),c.Fc(32,"Credit"),c.Pb(),c.Qb(33,"th"),c.Fc(34,"Balance"),c.Pb(),c.Pb(),c.Pb(),c.Qb(35,"tbody"),c.Dc(36,Nt,13,6,"tr",14),c.Pb(),c.Qb(37,"tfoot"),c.Qb(38,"tr"),c.Qb(39,"td",12),c.Dc(40,Tt,1,1,"pagination",15),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(8),c.lc("ngClass","income"==e.mode?"btn-primary":"btn-light"),c.zb(2),c.lc("ngClass","expense"==e.mode?"btn-primary":"btn-light"),c.zb(2),c.lc("ngIf","income"==e.mode),c.zb(1),c.lc("ngIf","expense"==e.mode),c.zb(23),c.lc("ngForOf",null==e.accountsCashbookPage?null:e.accountsCashbookPage.content),c.zb(4),c.lc("ngIf",null!=e.accountsCashbookPage))},directives:[a.o,a.q,a.p,It,Et,b.a],styles:[".btn-web[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]{color:#fff;background-color:#3f87c7}.hotel-button-reverse[_ngcontent-%COMP%], .hotel-button[_ngcontent-%COMP%]:hover{background-color:#f7a71a}.hotel-button-reverse[_ngcontent-%COMP%]{color:#fff}.hotel-button-reverse[_ngcontent-%COMP%]:hover{background-color:#3f87c7}[_nghost-%COMP%]{background-color:#f0f2f5;display:block;min-height:calc(100vh - 59px)}"]}),t}()}],$t=function(){function t(){}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[r.a,o.e.forChild(jt)]]}),t}()}}]);